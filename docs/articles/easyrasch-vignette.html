<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>easyRasch package vignette • easyRasch</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><script src="easyrasch-vignette_files/libs/quarto-html/popper.min.js"></script><script src="easyrasch-vignette_files/libs/quarto-html/tippy.umd.min.js"></script><link href="easyrasch-vignette_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="easyrasch-vignette_files/libs/quarto-html/light-border.css" rel="stylesheet">
<script src="easyrasch-vignette_files/libs/kePrint-0.0.1/kePrint.js"></script><link href="easyrasch-vignette_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="easyRasch package vignette">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">easyRasch</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.3.3.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/easyrasch-vignette.html">easyRasch package vignette</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/pgmj/easyRasch/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-quarto">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>easyRasch package vignette</h1>
      <p class="subtitle">Simplifying Rasch Measurement Theory in R</p>
      <p class="author">Magnus Johansson</p>
      <p class="date">2025-01-01</p>

      <small class="dont-index">Source: <a href="https://github.com/pgmj/easyRasch/blob/HEAD/vignettes/easyrasch-vignette.qmd" class="external-link"><code>vignettes/easyrasch-vignette.qmd</code></a></small>
      <div class="d-none name"><code></code></div>
    </div>






    <section class="level2"><h2 id="preamble">Preamble<a class="anchor" aria-label="anchor" href="#preamble"></a>
</h2>
<p>This page contains a sample Rasch analysis to showcase most of the core functions in the <code>easyRasch</code> package. A more extensive guide that also helps to show the benefits of the Quarto publishing system, is available here: <a href="https://pgmj.github.io/raschrvignette/RaschRvign.html" class="external-link uri">https://pgmj.github.io/raschrvignette/RaschRvign.html</a></p>
<p>It is strongly recommended to go to the link above. I’ve become rather addicted to the convenience of panel-tabsets that Quarto offers that allow side-by-side viewing of output. These are unfortunately not available when generating this package article/vignette using <code>pkgdown</code> (AFAIK). Lacking panel-tabsets, this page will become quite long (not to say that the other one is short either…).</p>
<p><strong>NOTE: This package was previously known as <code>RISEkbmRasch</code></strong></p>
<p>If you are new to Rasch Measurement Theory, you may find this intro presentation useful: <a href="https://pgmj.github.io/RaschIRTlecture/slides.html" class="external-link uri">https://pgmj.github.io/RaschIRTlecture/slides.html</a></p>
<p>There is a separate GitHub repository containing a template R-project to simplify getting started with the <code>easyRasch</code> package and conducting a reproducible Rasch analysis in R: <a href="https://github.com/pgmj/RISEraschTemplate" class="external-link uri">https://github.com/pgmj/RISEraschTemplate</a></p>
</section><section class="level2"><h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette will walk through a sample analysis using an open dataset with polytomous questionnaire data.</p>
<p>One of the aims with this package is to simplify reproducible psychometric analysis to shed light on the measurement properties of a scale, questionnaire or test. In a preprint <span class="citation" data-cites="johansson">(<a href="#ref-johansson" role="doc-biblioref">Johansson et al. 2023</a>)</span>, our <a href="https://www.ri.se/en/what-we-do/projects/center-for-categorically-based-measurements" class="external-link">research group</a> propose that the basic aspects of a psychometric analysis should include information about:</p>
<ul>
<li>Unidimensionality &amp; local independence</li>
<li>Response categories (monotonicity)</li>
<li>Invariance (Differential Item Functioning)</li>
<li>Targeting</li>
<li>Measurement uncertainties (reliability)</li>
</ul>
<p>We’ll include several ways to investigate these measurement properties using Rasch Measurement Theory. There are also functions in the package less directly related to the criteria above that will be demonstrated in this vignette.</p>
<p>Please note that this is just a sample analysis to showcase the R package. It is not intended as a “best practice” psychometric analysis example.</p>
<p>You can skip ahead to the Rasch analysis part in <a href="#sec-rasch" class="quarto-xref">Section 5</a> if you are eager to look at the package output :)</p>
</section><section class="level2"><h2 id="getting-started">Getting started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<p>Since the package is intended for use with Quarto, this vignette has also been created with Quarto. A “template” .qmd file <a href="https://github.com/pgmj/RISEraschTemplate/blob/main/analysis.qmd" class="external-link">is available</a> that can be useful to have handy for copy&amp;paste when running a new analysis. You can also download a complete copy of the Quarto/R code to produce this document <a href="https://github.com/pgmj/pgmj.github.io/blob/main/raschrvignette/RaschRvign.qmd" class="external-link">here</a>.</p>
<p>Loading the <code>easyRasch</code> package will automatically load all the packages it depends on. However, it could be desirable to explicitly load all packages used to enable the automatic creation of citations for them, using the <code>grateful</code> package (see <a href="#sec-grateful" class="quarto-xref">Section 14</a>).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/pgmj/easyRasch" class="external-link">easyRasch</a></span><span class="op">)</span> <span class="co"># devtools::install_github("pgmj/easyRasch")</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pakillo.github.io/grateful/" class="external-link">grateful</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggrepel.slowkow.com/" class="external-link">ggrepel</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-forge.r-project.org/projects/car/" class="external-link">car</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://haozhu233.github.io/kableExtra/" class="external-link">kableExtra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://readxl.tidyverse.org" class="external-link">readxl</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">eRm</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">iarm</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://philchalmers.github.io/mirt/" class="external-link">mirt</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://personality-project.org/r/psych/" class="external-link">psych</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">psychotree</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/HenrikBengtsson/matrixStats" class="external-link">matrixStats</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://had.co.nz/reshape" class="external-link">reshape</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://renkun-ken.github.io/formattable/" class="external-link">formattable</a></span><span class="op">)</span> </span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://glue.tidyverse.org/" class="external-link">glue</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RevolutionAnalytics/foreach" class="external-link">foreach</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/RevolutionAnalytics/doparallel" class="external-link">doParallel</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">### some commands exist in multiple packages, here we define preferred ones that are frequently used</span></span>
<span><span class="va">select</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="va"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span></span>
<span><span class="va">count</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="va"><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">count</a></span></span>
<span><span class="va">recode</span> <span class="op">&lt;-</span> <span class="fu">car</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/car/man/recode.html" class="external-link">recode</a></span></span>
<span><span class="va">rename</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="va"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span></span></code></pre></div>
</div>
<section class="level3"><h3 id="loading-data">Loading data<a class="anchor" aria-label="anchor" href="#loading-data"></a>
</h3>
<p>We will use data from a recent paper investigating the “initial elevation effect” <span class="citation" data-cites="anvari2022">(<a href="#ref-anvari2022" role="doc-biblioref">Anvari et al. 2022</a>)</span>, and focus on the 10 negative items from the PANAS. The data is available at the OSF website.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df.all</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"https://osf.io/download/6fbr5/"</span><span class="op">)</span> <span class="co"># you can use this line to load the data directly from the OSF website</span></span>
<span><span class="co">#df.all &lt;- read_csv("vignettes/anvari2022data.csv") # or this line if you have downloaded the datafile in the /vignettes/articles folder</span></span>
<span><span class="co"># if you have issues with the link, please try downloading manually using the same URL as above</span></span>
<span><span class="co"># and read the file from your local drive.</span></span>
<span></span>
<span><span class="co"># subset items and demographic variables</span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df.all</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"PANASD2_1"</span><span class="op">)</span>,</span>
<span>         <span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"PANASD2_20"</span><span class="op">)</span>,</span>
<span>         <span class="va">age</span>,<span class="va">Sex</span>,<span class="va">Group</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="va">PANASD2_10_Active</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="va">PANASD2_1_Attentive</span><span class="op">)</span></span></code></pre></div>
</div>
<p>The <code><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse()</a></code> function provides a quick overview of our dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,856
Columns: 13
$ PANASD2_11_Distressed &lt;dbl&gt; 2, 2, 2, 1, 2, 2, 4, 1, 1, 3, 1, 4, 2, 4, 4, 1, …
$ PANASD2_12_Upset      &lt;dbl&gt; 1, 1, 4, 1, 1, 5, 2, 1, 2, 2, 2, 3, 1, 3, 5, 1, …
$ PANASD2_13_Hostile    &lt;dbl&gt; 1, 1, 2, 1, 1, 3, 1, 1, 1, 4, 1, 1, 1, 1, 1, 1, …
$ PANASD2_14_Irritable  &lt;dbl&gt; 1, 1, 3, 1, 2, 5, 3, 1, 2, 4, 2, 3, 1, 2, 3, 1, …
$ PANASD2_15_Scared     &lt;dbl&gt; 1, 1, 3, 1, 1, 4, 1, 1, 1, 2, 2, 2, 1, 4, 4, 1, …
$ PANASD2_16_Afraid     &lt;dbl&gt; 1, 1, 4, 1, 1, 3, 1, 1, 1, 3, 1, 2, 1, 4, 4, 1, …
$ PANASD2_17_Ashamed    &lt;dbl&gt; 1, 1, 2, 1, 1, 3, 1, 1, 1, 2, 1, 4, 1, 1, 3, 1, …
$ PANASD2_18_Guilty     &lt;dbl&gt; 2, 1, 2, 1, 1, 3, 3, 1, 1, 3, 1, 4, 1, 1, 3, 1, …
$ PANASD2_19_Nervous    &lt;dbl&gt; 1, 1, 2, 1, 2, 4, 4, 1, 1, 4, 2, 4, 2, 1, 5, 1, …
$ PANASD2_20_Jittery    &lt;dbl&gt; 1, 2, 3, 1, 1, 2, 3, 3, 2, 1, 2, 2, 1, 1, 4, 1, …
$ age                   &lt;dbl&gt; 27, 32, 21, 27, 20, 22, 23, 25, 21, 26, 38, 36, …
$ Sex                   &lt;chr&gt; "Male", "Male", "Female", "Male", "Male", "Male"…
$ Group                 &lt;chr&gt; "Later Start", "Later Start", "Later Start", "La…</code></pre>
</div>
</div>
<p>We have 1856 rows, ie. respondents. All variables except Sex and Group are of class <code>dbl</code>, which means they are numeric and can have decimals. Integer (numeric with no decimals) would also be fine for our purposes. The two demographic variables currently of class <code>chr</code> (character) will need to be converted to factors (<code>fct</code>), and we will do that later on.</p>
<p>(If you import a dataset where item variables are of class character, you will need to recode to numeric.)</p>
</section><section class="level3"><h3 id="itemlabels">Itemlabels<a class="anchor" aria-label="anchor" href="#itemlabels"></a>
</h3>
<p>Then we set up the itemlabels dataframe. This could also be done using the free <a href="https://www.libreoffice.org/download/download-libreoffice/" class="external-link">LibreOffice Calc</a> or MS Excel. Just make sure the file has the same structure, with two variables named <code>itemnr</code> and <code>item</code> that contain the item variable names and item description. The item variable names have to match the variable names in the item dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">itemlabels</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"PAN"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/as_tibble.html" class="external-link">as_tibble</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tidyr.tidyverse.org/reference/separate.html" class="external-link">separate</a></span><span class="op">(</span><span class="va">value</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="st">"item"</span><span class="op">)</span>, sep <span class="op">=</span><span class="st">"_[0-9][0-9]_"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>itemnr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"PANAS_"</span>,<span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">11</span><span class="op">:</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span>, .before <span class="op">=</span> <span class="st">"item"</span><span class="op">)</span></span></code></pre></div>
</div>
<p>The <code>itemlabels</code> dataframe looks like this.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">itemlabels</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   itemnr   item
   &lt;chr&gt;    &lt;chr&gt;
 1 PANAS_11 Distressed
 2 PANAS_12 Upset
 3 PANAS_13 Hostile
 4 PANAS_14 Irritable
 5 PANAS_15 Scared
 6 PANAS_16 Afraid
 7 PANAS_17 Ashamed
 8 PANAS_18 Guilty
 9 PANAS_19 Nervous
10 PANAS_20 Jittery   </code></pre>
</div>
</div>
</section><section class="level3"><h3 id="demographics">Demographics<a class="anchor" aria-label="anchor" href="#demographics"></a>
</h3>
<p>Variables for invariance tests such as Differential Item Functioning (DIF) need to be separated into vectors (ideally as factors with specified levels and labels) with the same length as the number of rows in the dataset. This means that any kind of removal of respondents/rows with missing data needs to be done before separating the DIF variables.</p>
<p>We need to check how the <code>Sex</code> variable has been coded and which responses are present in the data.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/table.html" class="external-link">table</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
  CONSENT REVOKED      DATA EXPIRED            Female              Male
                2                 1               896               955
Prefer not to say
                2 </code></pre>
</div>
</div>
<p>Since there are only 5 respondents using labels outside of Female/Male (too few for meaningful statistical analysis), we will remove them to have a complete dataset for all variables in this example.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">Sex</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Female"</span>,<span class="st">"Male"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>Let’s make the variable a factor (instead of class “character”) and put in in a vector separate from the item dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dif.sex</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Sex</span><span class="op">)</span></span></code></pre></div>
</div>
<p>And remove our DIF demographic variable from the item dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span><span class="op">$</span><span class="va">Sex</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
</div>
<p>We can now make use of a very simple function included in this package!</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdemographics.html">RIdemographics</a></span><span class="op">(</span><span class="va">dif.sex</span>, <span class="st">"Sex"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Sex </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> n </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Percent </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> Female </td>
   <td style="text-align:right;"> 896 </td>
   <td style="text-align:right;"> 48.4 </td>
  </tr>
<tr>
<td style="text-align:left;"> Male </td>
   <td style="text-align:right;"> 955 </td>
   <td style="text-align:right;"> 51.6 </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>Let’s move on to the age variable.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> num [1:1851] 27 32 21 27 20 22 23 25 21 26 ...</code></pre>
</div>
</div>
<p>Sometimes age is provided in categories, but here we have a numeric variable with age in years. Let’s have a quick look at the age distribution using a histogram, and calculate mean, sd and range.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">### simpler version of the ggplot below using base R function hist()</span></span>
<span><span class="co"># hist(df$age, col = "#009ca6")</span></span>
<span><span class="co"># abline(v = mean(age, na.rm = TRUE))</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># df %&gt;% </span></span>
<span><span class="co">#   summarise(Mean = round(mean(age, na.rm = T),1),</span></span>
<span><span class="co">#             StDev = round(sd(age, na.rm = T),1)</span></span>
<span><span class="co">#             )</span></span>
<span></span>
<span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">age</span><span class="op">)</span>, </span>
<span>                 fill <span class="op">=</span> <span class="st">"#009ca6"</span>,</span>
<span>                 col <span class="op">=</span> <span class="st">"black"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add the average as a vertical line</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_abline.html" class="external-link">geom_vline</a></span><span class="op">(</span>xintercept <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span><span class="op">)</span>, </span>
<span>             linewidth <span class="op">=</span> <span class="fl">1.5</span>,</span>
<span>             linetype <span class="op">=</span> <span class="fl">2</span>,</span>
<span>             col <span class="op">=</span> <span class="st">"orange"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># add a light grey field indicating the standard deviation</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html" class="external-link">annotate</a></span><span class="op">(</span><span class="st">"rect"</span>, ymin <span class="op">=</span> <span class="fl">0</span>, ymax <span class="op">=</span> <span class="cn">Inf</span>, </span>
<span>           xmin <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">-</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>, xmax <span class="op">=</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/mean.html" class="external-link">mean</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/stats/sd.html" class="external-link">sd</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">age</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span>, </span>
<span>           alpha <span class="op">=</span> <span class="fl">.2</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">""</span>,</span>
<span>       x <span class="op">=</span> <span class="st">"Age in years"</span>,</span>
<span>       y <span class="op">=</span> <span class="st">"Number of respondents"</span>,</span>
<span>       caption <span class="op">=</span> <span class="fu"><a href="https://glue.tidyverse.org/reference/glue.html" class="external-link">glue</a></span><span class="op">(</span><span class="st">"Note. Mean age is {round(mean(df$age, na.rm = T),1)} years with a standard deviation of {round(sd(df$age, na.rm = T),1)}. Age range is {min(df$age)} to {max(df$age)}."</span><span class="op">)</span></span>
<span>       <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>plot.caption <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_text</a></span><span class="op">(</span>hjust <span class="op">=</span> <span class="fl">0</span>, face <span class="op">=</span> <span class="st">"italic"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-12-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Age also needs to be a separate vector, and removed from the item dataframe.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dif.age</span> <span class="op">&lt;-</span> <span class="va">df</span><span class="op">$</span><span class="va">age</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">age</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span></code></pre></div>
</div>
<p>There is also a grouping variable which needs to be converted to a factor.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dif.group</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">factor</a></span><span class="op">(</span><span class="va">df</span><span class="op">$</span><span class="va">Group</span><span class="op">)</span></span>
<span><span class="va">df</span><span class="op">$</span><span class="va">Group</span> <span class="op">&lt;-</span> <span class="cn">NULL</span></span>
<span><span class="fu"><a href="../reference/RIdemographics.html">RIdemographics</a></span><span class="op">(</span><span class="va">dif.group</span>, <span class="st">"Group"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Group </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> n </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Percent </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> Earlier Start </td>
   <td style="text-align:right;"> 901 </td>
   <td style="text-align:right;"> 48.7 </td>
  </tr>
<tr>
<td style="text-align:left;"> Later Start </td>
   <td style="text-align:right;"> 950 </td>
   <td style="text-align:right;"> 51.3 </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>With only item data remaining in the dataframe, we can easily rename the items in the item dataframe. These names match the <code>itemlabels</code> variable <code>itemnr</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="va">itemlabels</span><span class="op">$</span><span class="va">itemnr</span></span></code></pre></div>
</div>
<p>Now we are all set for the psychometric analysis!</p>
</section></section><section class="level2"><h2 id="descriptives">Descriptives<a class="anchor" aria-label="anchor" href="#descriptives"></a>
</h2>
<p>Let’s familiarize ourselves with the data before diving into the analysis.</p>
<section class="level3"><h3 id="missing-data">Missing data<a class="anchor" aria-label="anchor" href="#missing-data"></a>
</h3>
<p>First, we visualize the proportion of missing data on item level.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RImissing.html">RImissing</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No missing data."</code></pre>
</div>
</div>
<p>No missing data in this dataset. If we had missing data, we could also use <code><a href="../reference/RImissingP.html">RImissingP()</a></code> to look at which respondents have missing data and how much.</p>
</section><section class="level3"><h3 id="overall-responses">Overall responses<a class="anchor" aria-label="anchor" href="#overall-responses"></a>
</h3>
<p>This provides us with an overall picture of the data distribution. As a bonus, any oddities/mistakes in recoding the item data from categories to numbers will be clearly visible.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIallresp.html">RIallresp</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table class="table table table-striped" style="font-size: 15px;
                  font-family: Lato; width: 50%">
<thead><tr>
<th style="text-align:right;">
Response category
</th>
<th style="text-align:right;">
Number of responses
</th>
<th style="text-align:right;">
Percent
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">1</span>
</td>
<td style="text-align:right;">
9430
</td>
<td style="text-align:right;">
50.9
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">2</span>
</td>
<td style="text-align:right;">
4136
</td>
<td style="text-align:right;">
22.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">3</span>
</td>
<td style="text-align:right;">
2676
</td>
<td style="text-align:right;">
14.5
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">4</span>
</td>
<td style="text-align:right;">
1722
</td>
<td style="text-align:right;">
9.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">5</span>
</td>
<td style="text-align:right;">
546
</td>
<td style="text-align:right;">
2.9
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>Most R packages for Rasch analysis require the lowest response category to be zero, which makes it necessary for us to recode our data, from using the range of 1-5 to 0-4.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/everything.html" class="external-link">everything</a></span><span class="op">(</span><span class="op">)</span>, <span class="op">~</span> <span class="fu">car</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/car/man/recode.html" class="external-link">recode</a></span><span class="op">(</span><span class="va">.x</span>, <span class="st">"1=0;2=1;3=2;4=3;5=4"</span>, as.factor <span class="op">=</span> <span class="cn">F</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># always check that your recoding worked as intended.</span></span>
<span><span class="fu"><a href="../reference/RIallresp.html">RIallresp</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table class="table table table-striped" style="font-size: 15px;
                  font-family: Lato; width: 50%">
<thead><tr>
<th style="text-align:right;">
Response category
</th>
<th style="text-align:right;">
Number of responses
</th>
<th style="text-align:right;">
Percent
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">0</span>
</td>
<td style="text-align:right;">
9430
</td>
<td style="text-align:right;">
50.9
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">1</span>
</td>
<td style="text-align:right;">
4136
</td>
<td style="text-align:right;">
22.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">2</span>
</td>
<td style="text-align:right;">
2676
</td>
<td style="text-align:right;">
14.5
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">3</span>
</td>
<td style="text-align:right;">
1722
</td>
<td style="text-align:right;">
9.3
</td>
</tr>
<tr>
<td style="text-align:right;">
<span style="font-weight: bold">4</span>
</td>
<td style="text-align:right;">
546
</td>
<td style="text-align:right;">
2.9
</td>
</tr>
</tbody>
</table>
</div>
</div>
<section class="level4"><h4 id="floorceiling-effects">Floor/ceiling effects<a class="anchor" aria-label="anchor" href="#floorceiling-effects"></a>
</h4>
<p>Now, we can also look at the raw distribution of sum scores. The <code><a href="../reference/RIrawdist.html">RIrawdist()</a></code> function is a bit crude, since it requires responses in all response categories to accurately calculate max and min scores.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIrawdist.html">RIrawdist</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-19-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>We can see a floor effect with 11.8% of participants responding in the lowest category for all items.</p>
</section><section class="level4"><h4 id="guttman-structure">Guttman structure<a class="anchor" aria-label="anchor" href="#guttman-structure"></a>
</h4>
<p>While not really necessary, it could be interesting to see whether the response patterns follow a Guttman-like structure. Items and persons are sorted based on lower-&gt;higher responses, and we should see the color move from yellow in the lower left corner to blue in the upper right corner.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIheatmap.html">RIheatmap</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>axis.text.x <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-20-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In this data, we see the floor effect on the left, with 11.8% of respondents all yellow, and a rather weak Guttman structure. This could also be due to a low variation in item locations/difficulties. Since we have a very large sample I added a <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme()</a></code> option to remove the x-axis text, which would anyway just be a blur of the 1851 respondent row numbers. Each thin vertical slice in the figure is one respondent.</p>
</section></section><section class="level3"><h3 id="item-level-descriptives">Item level descriptives<a class="anchor" aria-label="anchor" href="#item-level-descriptives"></a>
</h3>
<p>There are many ways to look at the item level data, and we’ll get them all together in the tab-panel below. The <code><a href="../reference/RItileplot.html">RItileplot()</a></code> is probably most informative, since it provides the number of responses in each response category for each item. It is usually recommended to have at least ~10 responses in each category for psychometric analysis, no matter which methodology is used.</p>
<p>Kudos to <a href="https://solomonkurz.netlify.app/blog/2021-05-11-yes-you-can-fit-an-exploratory-factor-analysis-with-lavaan/" class="external-link">Solomon Kurz</a> for providing the idea and code on which the tile plot function is built!</p>
<p>Most people will be familiar with the barplot, and this is probably most intuitive to understand the response distribution within each item. However, if there are many items it will take a while to review, and does not provide the same overview as a tileplot or stacked bars.</p>
<p>For this section, when using Quarto, I like to have the items available in the margin, but now we’ll have to settle for a table inline.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIlistitems.html">RIlistitems</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> itemnr </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> item </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> Distressed </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> Upset </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> Hostile </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> Irritable </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:left;"> Scared </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> Afraid </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> Ashamed </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_18 </td>
   <td style="text-align:left;"> Guilty </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> Nervous </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> Jittery </td>
  </tr>
</tbody>
</table>
</div>
</div>
<section class="level4"><h4 id="tile-plot">Tile plot<a class="anchor" aria-label="anchor" href="#tile-plot"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RItileplot.html">RItileplot</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-22-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>While response patterns are skewed for all items, there are more than 10 responses in each category for all items which is helpful for the analysis.</p>
</section><section class="level4"><h4 id="stacked-bars">Stacked bars<a class="anchor" aria-label="anchor" href="#stacked-bars"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIbarstack.html">RIbarstack</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co"># theming is optional, see section 11 for more on this</span></span>
<span>  <span class="fu"><a href="../reference/theme_rise.html">theme_rise</a></span><span class="op">(</span><span class="op">)</span> </span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-23-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level4"><h4 id="barplots">Barplots<a class="anchor" aria-label="anchor" href="#barplots"></a>
</h4>
<div class="sourceCode cell-code" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIbarplot.html">RIbarplot</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-1.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-2.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-3.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-4.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-5.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-6.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-7.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-8.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-9.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-24-10.png" width="672"></p>
</div>
</div>
</div>
</section></section></section><section class="level2"><h2 id="sec-rasch">Rasch analysis 1<a class="anchor" aria-label="anchor" href="#sec-rasch"></a>
</h2>
<p>The eRm package and Conditional Maximum Likelihood (CML) estimation will be used primarily, with the Partial Credit Model since this is polytomous data.</p>
<p>This is also where the <a href="https://doi.org/10.31219/osf.io/3htzc" class="external-link">five basic psychometric aspects</a> are good to recall.</p>
<ul>
<li>Unidimensionality &amp; local independence</li>
<li>Response categories</li>
<li>Invariance</li>
<li>Targeting</li>
<li>Measurement uncertainties (reliability)</li>
</ul>
<p>We will begin by looking at unidimensionality, response categories, and targeting in parallel below. For unidimensionality, we are mostly interested in item fit and residual correlations, as well as PCA of residuals and loadings on the first residual contrast. At the same time, disordered response categories can influence item fit to some extent (and vice versa), and knowledge about targeting can be useful if it is necessary to remove items due to residual correlations.</p>
<p>When unidimensionality and response categories are found to work adequately, we will move on to invariance testing (Differential Item Functioning, DIF). It should be noted that DIF should be evaluated in parallel with all other psychometric aspects, but since it is a more complex issue it is kept in a separate section in this vignette (as is person fit). Finally, when/if invariance/DIF also looks acceptable, we can investigate reliability/measurement uncertainties.</p>
<section class="level3"><h3 id="conditional-item-fit">Conditional item fit<a class="anchor" aria-label="anchor" href="#conditional-item-fit"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simfit1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIgetfit.html">RIgetfit</a></span><span class="op">(</span><span class="va">df</span>, iterations <span class="op">=</span> <span class="fl">1000</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span> <span class="co"># save simulation output to object `simfit1`</span></span>
<span><span class="fu"><a href="../reference/RIitemfit.html">RIitemfit</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">simfit1</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit diff </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit diff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.198</span> </td>
   <td style="text-align:left;"> [0.927, 1.078] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.255</span> </td>
   <td style="text-align:left;"> [0.923, 1.094] </td>
   <td style="text-align:left;"> 0.12 </td>
   <td style="text-align:left;"> 0.161 </td>
   <td style="text-align:right;"> -0.33 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.842</span> </td>
   <td style="text-align:left;"> [0.916, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.852</span> </td>
   <td style="text-align:left;"> [0.888, 1.127] </td>
   <td style="text-align:left;"> 0.074 </td>
   <td style="text-align:left;"> 0.036 </td>
   <td style="text-align:right;"> -0.06 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.174</span> </td>
   <td style="text-align:left;"> [0.906, 1.087] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.346</span> </td>
   <td style="text-align:left;"> [0.865, 1.139] </td>
   <td style="text-align:left;"> 0.087 </td>
   <td style="text-align:left;"> 0.207 </td>
   <td style="text-align:right;"> 0.43 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.064</span> </td>
   <td style="text-align:left;"> [0.918, 1.085] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.11</span> </td>
   <td style="text-align:left;"> [0.902, 1.104] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> 0.006 </td>
   <td style="text-align:right;"> -0.32 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.783</span> </td>
   <td style="text-align:left;"> [0.915, 1.106] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.725</span> </td>
   <td style="text-align:left;"> [0.876, 1.138] </td>
   <td style="text-align:left;"> 0.132 </td>
   <td style="text-align:left;"> 0.151 </td>
   <td style="text-align:right;"> 0.16 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.798</span> </td>
   <td style="text-align:left;"> [0.919, 1.114] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.781</span> </td>
   <td style="text-align:left;"> [0.864, 1.125] </td>
   <td style="text-align:left;"> 0.121 </td>
   <td style="text-align:left;"> 0.083 </td>
   <td style="text-align:right;"> 0.00 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.953</span> </td>
   <td style="text-align:left;"> [0.897, 1.094] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.92</span> </td>
   <td style="text-align:left;"> [0.826, 1.154] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.36 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_18 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.088</span> </td>
   <td style="text-align:left;"> [0.907, 1.098] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.172</span> </td>
   <td style="text-align:left;"> [0.853, 1.143] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> 0.029 </td>
   <td style="text-align:right;"> 0.30 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.921</span> </td>
   <td style="text-align:left;"> [0.92, 1.089] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.933</span> </td>
   <td style="text-align:left;"> [0.917, 1.085] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.49 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.205</span> </td>
   <td style="text-align:left;"> [0.918, 1.079] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.257</span> </td>
   <td style="text-align:left;"> [0.897, 1.097] </td>
   <td style="text-align:left;"> 0.126 </td>
   <td style="text-align:left;"> 0.16 </td>
   <td style="text-align:right;"> -0.05 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> MSQ values based on conditional calculations (n = 1851 complete cases).<br>                                Simulation based thresholds from 1000 simulated datasets.</td></tr>
</tfoot>
</table>
</div>
</div>
<p><code><a href="../reference/RIitemfit.html">RIitemfit()</a></code> works with both dichotomous and polytomous data (no option needed).</p>
<p>It is important to note that the new (since version 0.2.2, released 2024-08-19) <code><a href="../reference/RIitemfit.html">RIitemfit()</a></code> function uses <strong>conditional</strong> outfit/infit, which is both robust to different sample sizes and makes ZSTD unnecessary <span class="citation" data-cites="muller_item_2020">(<a href="#ref-muller_item_2020" role="doc-biblioref">Müller 2020</a>)</span>.</p>
<p>Since the distribution of item fit statistics are not known, we need to use simulation to determine appropriate cutoff threshold values for the current sample and items. <code><a href="../reference/RIitemfit.html">RIitemfit()</a></code> can also use the simulation based cutoff values and use them for conditional highlighting of misfitting items. See the <a href="https://pgmj.github.io/simcutoffs.html" class="external-link">blog post on simulation based cutoffs</a> for some more details on this. <code><a href="../reference/RIitemfit.html">RIitemfit()</a></code> can also be used without cutoffs and conditional highlighting. For a possibly useful rule-of-thumb cutoff for infit MSQ only, use the option <code>cutoff = "Smith98"</code> <span class="citation" data-cites="smith_using_1998 muller_item_2020">(<a href="#ref-smith_using_1998" role="doc-biblioref">Smith, Schumacker, and Bush 1998</a>; <a href="#ref-muller_item_2020" role="doc-biblioref">Müller 2020</a>)</span>. However, this cutoff is not applicable for all items, only for what can be expected for the <em>average</em> item fit. The simulation/bootstrap-based cutoff values will be more accurate for every item in your data.</p>
<p>Briefly stated, the simulation uses the properties of the current sample and items, and simulates n iterations of data that fit the Rasch model to get an empirical distribution of item fit that we can use for comparison with the observed data. This is also known as “parametric bootstrapping”.</p>
<p>The simulation can take quite a bit of time to run if you have complex data/many items/many participants, and/or choose to use many iterations. While insufficient testing has been done to make any strong recommendations, I think 500 iterations is a good starting point.</p>
<p>For reference, the simulation above, using 10 items with 5 response categories each and 1851 respondents, takes about 52 seconds to run on 8 cpu cores (Macbook Pro M1 Max) for 1000 iterations.</p>
<p>I’ll cite Ostini &amp; Nering <span class="citation" data-cites="ostini_polytomous_2006">(<a href="#ref-ostini_polytomous_2006" role="doc-biblioref">2006</a>)</span> on the description of outfit and infit (pages 86-87):</p>
<blockquote>
<p>Response residuals can be summed over respondents to obtain an item fit measure. Generally, the accumulation is done with squared standardized residuals, which are then divided by the total number of respondents to obtain a mean square statistic. In this form, the statistic is referred to as an <strong>unweighted mean square</strong> (Masters &amp; Wright, 1997; Wright &amp; Masters, 1982) and has also come to be known as <strong>“outfit”</strong> (Smith, Schumacker, &amp; Bush, 1998; Wu, 1997), perhaps because it is highly sensitive to outlier responses (Adams &amp; Khoo, 1996; Smith et al., 1998; Wright &amp; Masters, 1982).</p>
</blockquote>
<blockquote>
<p>A weighted version of this statistic was developed to counteract its sensitivity to outliers (Smith, 2000). In its weighted form, the squared standardized residual is multiplied by the observed response variance and then divided by the sum of the item response variances. This is sometimes referred to as an <strong>information weighted mean square</strong> and has become known as <strong>“infit”</strong> (Smith et al., 1998; Wu, 1997).</p>
</blockquote>
<p>A low item fit value (sometimes referred to as “overfitting” the Rasch model) indicates that responses are too predictable and provide little information. This is often the case for items that are very general/broad in scope in relation to the latent variable.</p>
<p>A high item fit value (sometimes referred to as “underfitting” the Rasch model) can indicate several things, often multidimensionality or a question that is difficult to interpret. This could for instance be a question that asks about two things at the same time or is ambiguous for other reasons.</p>
</section><section class="level3"><h3 id="item-restscore">Item-restscore<a class="anchor" aria-label="anchor" href="#item-restscore"></a>
</h3>
<p>This is another useful function from the <code>iarm</code> package. It shows the expected and observed correlation between an item and a score based on the rest of the items <span class="citation" data-cites="kreiner_note_2011">(<a href="#ref-kreiner_note_2011" role="doc-biblioref">Kreiner 2011</a>)</span>. Similarly, but inverted, to item fit, a lower observed correlation value than expected indicates that the item may not belong to the dimension. A higher than expected observed value indicates an overfitting and possibly redundant item.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIrestscore.html">RIrestscore</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Observed value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Model expected value </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Absolute difference </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Adjusted p-value (BH) </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Statistical significance level </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Location </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Relative location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:right;"> 0.58 </td>
   <td style="text-align:right;"> 0.64 </td>
   <td style="text-align:right;"> 0.06 </td>
   <td style="text-align:right;"> 0.001 </td>
   <td style="text-align:left;"> ** </td>
   <td style="text-align:right;"> -0.33 </td>
   <td style="text-align:right;"> 1.14 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:right;"> 0.71 </td>
   <td style="text-align:right;"> 0.64 </td>
   <td style="text-align:right;"> 0.07 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:left;"> *** </td>
   <td style="text-align:right;"> -0.06 </td>
   <td style="text-align:right;"> 1.42 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:right;"> 0.57 </td>
   <td style="text-align:right;"> 0.62 </td>
   <td style="text-align:right;"> 0.05 </td>
   <td style="text-align:right;"> 0.015 </td>
   <td style="text-align:left;"> * </td>
   <td style="text-align:right;"> 0.43 </td>
   <td style="text-align:right;"> 1.91 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:right;"> 0.61 </td>
   <td style="text-align:right;"> 0.64 </td>
   <td style="text-align:right;"> 0.03 </td>
   <td style="text-align:right;"> 0.066 </td>
   <td style="text-align:left;"> . </td>
   <td style="text-align:right;"> -0.32 </td>
   <td style="text-align:right;"> 1.15 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:right;"> 0.73 </td>
   <td style="text-align:right;"> 0.63 </td>
   <td style="text-align:right;"> 0.10 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:left;"> *** </td>
   <td style="text-align:right;"> 0.16 </td>
   <td style="text-align:right;"> 1.63 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:right;"> 0.72 </td>
   <td style="text-align:right;"> 0.64 </td>
   <td style="text-align:right;"> 0.08 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:left;"> *** </td>
   <td style="text-align:right;"> 0.00 </td>
   <td style="text-align:right;"> 1.48 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:right;"> 0.68 </td>
   <td style="text-align:right;"> 0.63 </td>
   <td style="text-align:right;"> 0.05 </td>
   <td style="text-align:right;"> 0.003 </td>
   <td style="text-align:left;"> ** </td>
   <td style="text-align:right;"> 0.36 </td>
   <td style="text-align:right;"> 1.83 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_18 </td>
   <td style="text-align:right;"> 0.62 </td>
   <td style="text-align:right;"> 0.63 </td>
   <td style="text-align:right;"> 0.01 </td>
   <td style="text-align:right;"> 0.408 </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:right;"> 0.30 </td>
   <td style="text-align:right;"> 1.77 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:right;"> 0.67 </td>
   <td style="text-align:right;"> 0.64 </td>
   <td style="text-align:right;"> 0.03 </td>
   <td style="text-align:right;"> 0.088 </td>
   <td style="text-align:left;"> . </td>
   <td style="text-align:right;"> -0.49 </td>
   <td style="text-align:right;"> 0.98 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:right;"> 0.56 </td>
   <td style="text-align:right;"> 0.63 </td>
   <td style="text-align:right;"> 0.07 </td>
   <td style="text-align:right;"> 0.000 </td>
   <td style="text-align:left;"> *** </td>
   <td style="text-align:right;"> -0.05 </td>
   <td style="text-align:right;"> 1.42 </td>
  </tr>
</tbody>
</table>
</div>
</div>
</section><section class="level3"><h3 id="conditional-item-characteristic-curves">Conditional item characteristic curves<a class="anchor" aria-label="anchor" href="#conditional-item-characteristic-curves"></a>
</h3>
<p>The <a href="https://cran.r-project.org/web/packages/iarm/index.html" class="external-link"><code>iarm</code></a> package <span class="citation" data-cites="mueller_iarm_2022">(<a href="#ref-mueller_iarm_2022" role="doc-biblioref">Mueller and Santiago 2022</a>)</span> provides several interesting functions for assessing item fit, DIF and other things. Some of these functions may be included in a future version of the <code>easyRasch</code> package. Below are conditional item characteristic curves (ICC’s) using the estimated theta (factor score).</p>
<p>These curves indicate item fit on a group level, where resondents are split into “class intervals” based on their sum score/factor score.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">iarm</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/iarm/man/ICCplot.html" class="external-link">ICCplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>, </span>
<span>        itemnumber <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, </span>
<span>        method <span class="op">=</span> <span class="st">"cut"</span>, </span>
<span>        cinumber <span class="op">=</span> <span class="fl">6</span>, <span class="co"># number of class intervals to split respondents into</span></span>
<span>        itemdescrip <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PANAS_11"</span>,<span class="st">"PANAS_12"</span>,<span class="st">"PANAS_13"</span>,<span class="st">"PANAS_14"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-27-1.png" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Please press Zoom on the Plots window to see the plot"</code></pre>
</div>
</div>
<p>A similar, but even more informative and flexible, visualization has been made available in the <a href="https://github.com/ERRTG/RASCHplot/" class="external-link"><code>RASCHplot</code></a> package <span class="citation" data-cites="buchardt_visualizing_2023">(<a href="#ref-buchardt_visualizing_2023" role="doc-biblioref">Buchardt, Christensen, and Jensen 2023</a>)</span>, which needs to be installed from GitHub (see code below). The linked paper is recommended reading, not least for descriptions of the useful options available. Below are some sample plots showing conditional ICC’s using the raw sum score.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ERRTG/RASCHplot/" class="external-link">RASCHplot</a></span><span class="op">)</span> <span class="co"># devtools::install_github("ERRTG/RASCHplot")</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/RASCHplot/man/CICCplot.html" class="external-link">CICCplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/eRm/man/PCM.html" class="external-link">PCM</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>,</span>
<span>         which.item <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span>,</span>
<span>         lower.groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">7</span>,<span class="fl">14</span>,<span class="fl">21</span>,<span class="fl">28</span><span class="op">)</span>,</span>
<span>         grid.items <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-28-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="pca-of-residuals">PCA of residuals<a class="anchor" aria-label="anchor" href="#pca-of-residuals"></a>
</h3>
<p>Principal Component Analysis of Rasch model residuals.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIpcmPCA.html">RIpcmPCA</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Eigenvalues </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Proportion of variance </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> 1.79 </td>
   <td style="text-align:left;"> 16.9% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.47 </td>
   <td style="text-align:left;"> 15.1% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.28 </td>
   <td style="text-align:left;"> 13.6% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.14 </td>
   <td style="text-align:left;"> 13.3% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.06 </td>
   <td style="text-align:left;"> 11.9% </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>Based on rule of thumb, the first eigenvalue should be below 2.0 to support unidimensionality. However, this is seldom accurate and needs to be complemented with checking item fit and residual correlations. The target value should probably be below 1.75, based on my experience, but really I find this metric redundant and only keep it here for those coming from Winsteps who might be looking for it. Speaking of Winsteps, the “explained variance” will not be comparable to Winsteps corresponding metric, since this one only shows the results from the analysis of residuals.</p>
</section><section class="level3"><h3 id="residual-correlations">Residual correlations<a class="anchor" aria-label="anchor" href="#residual-correlations"></a>
</h3>
<p>Similarly to item fit, we need to run simulations to get a useful cutoff threshold value for when residual correlations amongst item pairs are too large to support the local independence assumption <span class="citation" data-cites="christensen2017">(<a href="#ref-christensen2017" role="doc-biblioref">Christensen, Makransky, and Horton 2017</a>)</span>.</p>
<p>And again, the simulation can take a bit of time, but it is necessary to set the appropriate cutoff value.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simcor1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIgetResidCor.html">RIgetResidCor</a></span><span class="op">(</span><span class="va">df</span>, iterations <span class="op">=</span> <span class="fl">1000</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/RIresidcorr.html">RIresidcorr</a></span><span class="op">(</span><span class="va">df</span>, cutoff <span class="op">=</span> <span class="va">simcor1</span><span class="op">$</span><span class="va">p99</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_11 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_14 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_15 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_16 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_17 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_18 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_19 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_20 </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.1</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.05</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.01</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.07</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.29</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.17</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.25</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.27</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.38</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.08</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_18 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.32</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.25</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.1</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.08</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.21</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.12</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.06</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.07</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.05</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.07</span> </td>
   <td style="text-align:left;">  </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Relative cut-off value is -0.001, which is 0.101 above the average correlation (-0.102).<br>                                Correlations above the cut-off are highlighted in red text.</td></tr>
</tfoot>
</table>
</div>
</div>
<p>The matrix above shows item-pair correlations of item residuals, with highlights in red showing correlations crossing the threshold compared to the average item-pair correlation (for all item-pairs) <span class="citation" data-cites="christensen2017">(<a href="#ref-christensen2017" role="doc-biblioref">Christensen, Makransky, and Horton 2017</a>)</span>. Rasch model residual correlations (Yen’s Q3) are calculated using the <a href="https://cran.r-project.org/web/packages/mirt/index.html" class="external-link">mirt</a> package.</p>
</section><section class="level3"><h3 id="partial-gamma-ld">Partial gamma LD<a class="anchor" aria-label="anchor" href="#partial-gamma-ld"></a>
</h3>
<p>Another way to assess local (in)dependence is by partial gamma coefficients <span class="citation" data-cites="kreiner_analysis_2004">(<a href="#ref-kreiner_analysis_2004" role="doc-biblioref">Kreiner and Christensen 2004</a>)</span>. This is also a function from the <code>iarm</code> package. See <code><a href="https://rdrr.io/pkg/iarm/man/partgam_LD.html" class="external-link">?iarm::partgam_LD</a></code> for details.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIpartgamLD.html">RIpartgamLD</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item 1 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item 2 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Partial gamma </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Lower CI </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Upper CI </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Adjusted p-value (BH) </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.634</span> </td>
   <td style="text-align:right;"> 0.030 </td>
   <td style="text-align:right;"> 0.576 </td>
   <td style="text-align:right;"> 0.693 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.634</span> </td>
   <td style="text-align:right;"> 0.030 </td>
   <td style="text-align:right;"> 0.576 </td>
   <td style="text-align:right;"> 0.692 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> PANAS_18 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.577</span> </td>
   <td style="text-align:right;"> 0.033 </td>
   <td style="text-align:right;"> 0.512 </td>
   <td style="text-align:right;"> 0.642 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_18 </td>
   <td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.551</span> </td>
   <td style="text-align:right;"> 0.034 </td>
   <td style="text-align:right;"> 0.484 </td>
   <td style="text-align:right;"> 0.619 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.341</span> </td>
   <td style="text-align:right;"> 0.037 </td>
   <td style="text-align:right;"> 0.269 </td>
   <td style="text-align:right;"> 0.413 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.297</span> </td>
   <td style="text-align:right;"> 0.040 </td>
   <td style="text-align:right;"> 0.219 </td>
   <td style="text-align:right;"> 0.375 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.293</span> </td>
   <td style="text-align:right;"> 0.038 </td>
   <td style="text-align:right;"> 0.217 </td>
   <td style="text-align:right;"> 0.368 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.287</span> </td>
   <td style="text-align:right;"> 0.040 </td>
   <td style="text-align:right;"> 0.208 </td>
   <td style="text-align:right;"> 0.366 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.274</span> </td>
   <td style="text-align:right;"> 0.040 </td>
   <td style="text-align:right;"> 0.197 </td>
   <td style="text-align:right;"> 0.352 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> PANAS_15 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.261</span> </td>
   <td style="text-align:right;"> 0.041 </td>
   <td style="text-align:right;"> 0.181 </td>
   <td style="text-align:right;"> 0.340 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.209</span> </td>
   <td style="text-align:right;"> 0.042 </td>
   <td style="text-align:right;"> 0.127 </td>
   <td style="text-align:right;"> 0.291 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.202</span> </td>
   <td style="text-align:right;"> 0.041 </td>
   <td style="text-align:right;"> 0.121 </td>
   <td style="text-align:right;"> 0.283 </td>
   <td style="text-align:right;"> 0.000 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.191</span> </td>
   <td style="text-align:right;"> 0.044 </td>
   <td style="text-align:right;"> 0.105 </td>
   <td style="text-align:right;"> 0.278 </td>
   <td style="text-align:right;"> 0.001 </td>
  </tr>
</tbody>
</table>
</div>
</div>
</section><section class="level3"><h3 id="st-contrast-loadings">1st contrast loadings<a class="anchor" aria-label="anchor" href="#st-contrast-loadings"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb38"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIloadLoc.html">RIloadLoc</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-32-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Here we see item locations and their loadings on the first residual contrast. This figure can be helpful to identify clusters in data or multidimensionality.</p>
</section><section class="level3"><h3 id="analysis-of-response-categories">Analysis of response categories<a class="anchor" aria-label="anchor" href="#analysis-of-response-categories"></a>
</h3>
<p>The <code>xlims</code> setting changes the x-axis limits for the plots. The default values usually make sense, and we mostly add this option to point out the possibility of doing so. You can also choose to only show plots for only specific items.</p>
<div class="sourceCode cell-code" id="cb39"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemCats.html">RIitemCats</a></span><span class="op">(</span><span class="va">df</span>, xlims <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-1.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-2.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-3.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-4.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-5.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-6.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-7.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-8.png" width="672"></p>
</div>
</div>
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-9.png" width="672"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-33-10.png" width="672"></p>
</div>
</div>
</div>
<p>Each response category for each item should have a curve that indicates it to be the most probably response at some point on the latent variable (x axis in the figure).</p>
</section><section class="level3"><h3 id="response-categories-mirt">Response categories MIRT<a class="anchor" aria-label="anchor" href="#response-categories-mirt"></a>
</h3>
<p>For a more compact figure.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://philchalmers.github.io/mirt/reference/mirt.html" class="external-link">mirt</a></span><span class="op">(</span><span class="va">df</span>, model<span class="op">=</span><span class="fl">1</span>, itemtype<span class="op">=</span><span class="st">'Rasch'</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span>type<span class="op">=</span><span class="st">"trace"</span>, as.table <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>       theta_lim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span> <span class="co"># changes x axis limits</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-34-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="targeting">Targeting<a class="anchor" aria-label="anchor" href="#targeting"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># increase fig-height in the chunk option above if you have many items</span></span>
<span><span class="fu"><a href="../reference/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">5</span>,<span class="fl">4</span><span class="op">)</span><span class="op">)</span> <span class="co"># xlim defaults to c(-4,4) if you omit this option</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-35-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>This figure shows how well the items fit the respondents/persons. It is a sort of <a href="https://www.rasch.org/rmt/rmt253b.htm" class="external-link">Wright Map</a> that shows person locations and item threshold locations on the same logit scale.</p>
<p>The top part shows person location histogram, the middle part an inverted histogram of item threshold locations, and the bottom part shows individual item threshold locations. The histograms also show means and standard deviations.</p>
</section><section class="level3"><h3 id="item-hierarchy">Item hierarchy<a class="anchor" aria-label="anchor" href="#item-hierarchy"></a>
</h3>
<p>Here the items are sorted on their average threshold location (black diamonds). 84% confidence intervals are shown around each item threshold location. For further details, see the caption text below the figure.</p>
<p>The numbers displayed in the plot can be disabled using the option <code>numbers = FALSE</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb42"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-36-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="analysis-1-comments">Analysis 1 comments<a class="anchor" aria-label="anchor" href="#analysis-1-comments"></a>
</h3>
<p>Item fit shows a lot of issues.</p>
<p>Item 18 has issues with the second lowest category being disordered. Several other items have very short distances between thresholds 1 and 2, which is also clearly seen in the Item Hierarchy figure above.</p>
<p>Two item-pairs show residual correlations far above the cutoff value:</p>
<ul>
<li>15 and 16 (scared and afraid)</li>
<li>17 and 18 (ashamed and guilty)</li>
</ul>
<p>Since item 15 also has a residual correlation with item 19, we will remove it. In the second pair, item 18 will be removed since it also has problems with disordered response categories.</p>
<p>We have multiple “diagnostics” to review when deciding which item to remove if there are strong residual correlations between two items. Here is a list of commonly used criteria:</p>
<ul>
<li>item fit</li>
<li>item threshold locations compared to sample locations (targeting)</li>
<li>ordering of response categories</li>
<li>DIF</li>
<li>and whether there are residual correlations between one item and multiple other items</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">removed.items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"PANAS_15"</span>,<span class="st">"PANAS_18"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_backup</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df_backup</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="va">removed.items</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<p>As seen in the code above, I chose to create a copy of the dataframe with the removed items omitted. This can be useful if, at a later stage in the analysis, I want to be able to quickly “go back” and reinstate an item or undo any other change I have made.</p>
</section></section><section class="level2"><h2 id="rasch-analysis-2">Rasch analysis 2<a class="anchor" aria-label="anchor" href="#rasch-analysis-2"></a>
</h2>
<p>With items 15 and 18 removed.</p>
<div class="cell">
<div class="cell-output-display column-margin">
<table class="table table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div>
</div>
<section class="level3"><h3 id="conditional-item-fit-1">Conditional item fit<a class="anchor" aria-label="anchor" href="#conditional-item-fit-1"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simfit2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIgetfit.html">RIgetfit</a></span><span class="op">(</span><span class="va">df</span>, iterations <span class="op">=</span> <span class="fl">1000</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/RIitemfit.html">RIitemfit</a></span><span class="op">(</span><span class="va">df</span>, simcut <span class="op">=</span> <span class="va">simfit2</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit diff </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit diff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.14</span> </td>
   <td style="text-align:left;"> [0.909, 1.084] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.184</span> </td>
   <td style="text-align:left;"> [0.916, 1.094] </td>
   <td style="text-align:left;"> 0.056 </td>
   <td style="text-align:left;"> 0.09 </td>
   <td style="text-align:right;"> -0.27 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.801</span> </td>
   <td style="text-align:left;"> [0.911, 1.093] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.799</span> </td>
   <td style="text-align:left;"> [0.895, 1.122] </td>
   <td style="text-align:left;"> 0.11 </td>
   <td style="text-align:left;"> 0.096 </td>
   <td style="text-align:right;"> 0.00 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.108</span> </td>
   <td style="text-align:left;"> [0.915, 1.089] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.252</span> </td>
   <td style="text-align:left;"> [0.853, 1.157] </td>
   <td style="text-align:left;"> 0.019 </td>
   <td style="text-align:left;"> 0.095 </td>
   <td style="text-align:right;"> 0.48 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.976</span> </td>
   <td style="text-align:left;"> [0.916, 1.08] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.022</span> </td>
   <td style="text-align:left;"> [0.903, 1.088] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.26 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.876</span> </td>
   <td style="text-align:left;"> [0.92, 1.098] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.854</span> </td>
   <td style="text-align:left;"> [0.877, 1.142] </td>
   <td style="text-align:left;"> 0.044 </td>
   <td style="text-align:left;"> 0.023 </td>
   <td style="text-align:right;"> 0.06 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.04</span> </td>
   <td style="text-align:left;"> [0.904, 1.1] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.01</span> </td>
   <td style="text-align:left;"> [0.866, 1.183] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.41 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.937</span> </td>
   <td style="text-align:left;"> [0.925, 1.082] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.957</span> </td>
   <td style="text-align:left;"> [0.919, 1.084] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.43 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.159</span> </td>
   <td style="text-align:left;"> [0.921, 1.076] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.194</span> </td>
   <td style="text-align:left;"> [0.91, 1.099] </td>
   <td style="text-align:left;"> 0.083 </td>
   <td style="text-align:left;"> 0.095 </td>
   <td style="text-align:right;"> 0.01 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> MSQ values based on conditional calculations (n = 1851 complete cases).<br>                                Simulation based thresholds from 1000 simulated datasets.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level3"><h3 id="pca-of-residuals-1">PCA of residuals<a class="anchor" aria-label="anchor" href="#pca-of-residuals-1"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIpcmPCA.html">RIpcmPCA</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Eigenvalues </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Proportion of variance </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> 1.52 </td>
   <td style="text-align:left;"> 18.9% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.33 </td>
   <td style="text-align:left;"> 17.1% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.19 </td>
   <td style="text-align:left;"> 16.6% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.15 </td>
   <td style="text-align:left;"> 14.6% </td>
  </tr>
<tr>
<td style="text-align:right;"> 1.00 </td>
   <td style="text-align:left;"> 13.1% </td>
  </tr>
</tbody>
</table>
</div>
</div>
</section><section class="level3"><h3 id="residual-correlations-1">Residual correlations<a class="anchor" aria-label="anchor" href="#residual-correlations-1"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simcor2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIgetResidCor.html">RIgetResidCor</a></span><span class="op">(</span><span class="va">df</span>, iterations <span class="op">=</span> <span class="fl">1000</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/RIresidcorr.html">RIresidcorr</a></span><span class="op">(</span><span class="va">df</span>, cutoff <span class="op">=</span> <span class="va">simcor2</span><span class="op">$</span><span class="va">p99</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_11 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_14 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_16 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_17 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_19 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_20 </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.06</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.03</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.01</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.08</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.25</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.28</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.06</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.19</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.28</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.12</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.1</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.27</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;">  </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Relative cut-off value is -0.035, which is 0.095 above the average correlation (-0.129).<br>                                Correlations above the cut-off are highlighted in red text.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level3"><h3 id="st-contrast-loadings-1">1st contrast loadings<a class="anchor" aria-label="anchor" href="#st-contrast-loadings-1"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIloadLoc.html">RIloadLoc</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-42-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="targeting-1">Targeting<a class="anchor" aria-label="anchor" href="#targeting-1"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb48"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">4</span>,<span class="fl">4</span><span class="op">)</span>, bins <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-43-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="item-hierarchy-1">Item hierarchy<a class="anchor" aria-label="anchor" href="#item-hierarchy-1"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-44-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="analysis-2-comments">Analysis 2 comments<a class="anchor" aria-label="anchor" href="#analysis-2-comments"></a>
</h3>
<p>Items 16 &amp; 19, and 12 &amp; 14 show problematic residual correlations.</p>
<p>Let’s look at DIF before taking action upon this information. While we are keeping DIF as a separate section in this vignette, it is recommended to include DIF-analysis in the <code>panel-tabset</code> above (on item fit, PCA, residual correlations, etc).</p>
</section></section><section class="level2"><h2 id="dif---differential-item-functioning">DIF - differential item functioning<a class="anchor" aria-label="anchor" href="#dif---differential-item-functioning"></a>
</h2>
<p>We’ll be looking at whether item (threshold) locations are stable between demographic subgroups.</p>
<p>There are several DIF analysis tools available. The first one uses the package <code>psychotree</code>, which relies on statistical significance at p &lt; .05 as an indicator for DIF. This is a criterion that is highly sample size sensitive, and we are always interested in the size/magnitude of DIF as well, since that will inform us about the impact of DIF on the estimated latent variable.</p>
<p>The structure of DIF is also an important and complex aspect, particularly for polytomous data. Uniform DIF means that the DIF is similar across the latent continuum. We can test this in R using the <code>lordif</code> package, as demonstrated in <a href="#sec-lordif" class="quarto-xref">Section 7.6</a>. However, it should be noted that the <code>lordif</code> package does not provide an option to use Rasch models, and there may be results that are caused by also allowing the discrimination parameter to vary across items.</p>
<p>A recent preprint <span class="citation" data-cites="henninger_partial_2024">(<a href="#ref-henninger_partial_2024" role="doc-biblioref">Henninger et al. 2024</a>)</span> does a great job illustrating “differential step functioning” (DSF), which is when item threshold locations in polytomous data show varying levels of DIF. It also describes a forthcoming development of the <code>psychotree</code> where one can use DIF effect size and purification functions to evaluate DIF/DSF. When the updated package is available, I will work to implement these new functions into the <code>easyRasch</code> package as well.</p>
<p>It is important to ensure that no cells in the data are empty for subgroups when conducting a DIF analysis. Split the data using the DIF-variable and create separate tileplots to review the response distribution in the DIF-groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">difPlots</span> <span class="op">&lt;-</span> <span class="va">df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># save the output into the `difPlots` object</span></span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/add_column.html" class="external-link">add_column</a></span><span class="op">(</span>gender <span class="op">=</span> <span class="va">dif.sex</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># add the DIF variable to the dataframe</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/split.html" class="external-link">split</a></span><span class="op">(</span><span class="va">.</span><span class="op">$</span><span class="va">gender</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="co"># split the data using the DIF variable</span></span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span><span class="op">~</span> <span class="fu"><a href="../reference/RItileplot.html">RItileplot</a></span><span class="op">(</span><span class="va">.x</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="va">gender</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>title <span class="op">=</span> <span class="va">.x</span><span class="op">$</span><span class="va">gender</span><span class="op">)</span><span class="op">)</span> <span class="co"># create separate tileplots for each group</span></span>
<span></span>
<span><span class="va">difPlots</span><span class="op">$</span><span class="va">Female</span> <span class="op">+</span> <span class="va">difPlots</span><span class="op">$</span><span class="va">Male</span> <span class="co"># the actual name of the plots (in this case Male/Female) will be determined by the factor labels</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-45-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<section class="level3"><h3 id="sex">Sex<a class="anchor" aria-label="anchor" href="#sex"></a>
</h3>
<div class="cell">
<div class="cell-output-display column-margin">
<table class="table table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_19</span>
</td>
<td style="text-align:left;">
Nervous
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div>
</div>
<section class="level4"><h4 id="table">Table<a class="anchor" aria-label="anchor" href="#table"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifTable.html">RIdifTable</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.sex</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-47-1.png" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<table class="table table table-striped" style="font-size: 15px; font-family: Lato">
<thead><tr>
<th style="text-align:right;">
Item
</th>
<th style="text-align:right;">
2
</th>
<th style="text-align:right;">
3
</th>
<th style="text-align:right;">
Mean location
</th>
<th style="text-align:right;">
StDev
</th>
<th style="text-align:right;">
MaxDiff
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
PANAS_11
</td>
<td style="text-align:right;">
-0.314
</td>
<td style="text-align:right;">
-0.196
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.083
</td>
<td style="text-align:right;">
<span style="color: black">0.117</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_12
</td>
<td style="text-align:right;">
0.028
</td>
<td style="text-align:right;">
-0.044
</td>
<td style="text-align:right;">
-0.008
</td>
<td style="text-align:right;">
0.051
</td>
<td style="text-align:right;">
<span style="color: black">0.073</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_13
</td>
<td style="text-align:right;">
0.553
</td>
<td style="text-align:right;">
0.402
</td>
<td style="text-align:right;">
0.478
</td>
<td style="text-align:right;">
0.107
</td>
<td style="text-align:right;">
<span style="color: black">0.151</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_14
</td>
<td style="text-align:right;">
-0.328
</td>
<td style="text-align:right;">
-0.183
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.103
</td>
<td style="text-align:right;">
<span style="color: black">0.146</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_16
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.114
</td>
<td style="text-align:right;">
0.059
</td>
<td style="text-align:right;">
0.078
</td>
<td style="text-align:right;">
<span style="color: black">0.111</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_17
</td>
<td style="text-align:right;">
0.520
</td>
<td style="text-align:right;">
0.290
</td>
<td style="text-align:right;">
0.405
</td>
<td style="text-align:right;">
0.163
</td>
<td style="text-align:right;">
<span style="color: black">0.230</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_19
</td>
<td style="text-align:right;">
-0.495
</td>
<td style="text-align:right;">
-0.355
</td>
<td style="text-align:right;">
-0.425
</td>
<td style="text-align:right;">
0.099
</td>
<td style="text-align:right;">
<span style="color: black">0.140</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_20
</td>
<td style="text-align:right;">
0.032
</td>
<td style="text-align:right;">
-0.028
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
<span style="color: black">0.059</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</section><section class="level4"><h4 id="figure-items">Figure items<a class="anchor" aria-label="anchor" href="#figure-items"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifFigure.html">RIdifFigure</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.sex</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-48-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level4"><h4 id="figure-thresholds">Figure thresholds<a class="anchor" aria-label="anchor" href="#figure-thresholds"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifFigThresh.html">RIdifFigThresh</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.sex</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-49-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>While no item shows problematic levels of DIF regarding item location, as shown by the table, there is an interesting pattern in the thresholds figure. The lowest threshold seems to be slightly lower for node 3 (Male) for all items. Also, item 11 shows a much wider spread of item locations for node 3 compared to node 2.</p>
<p>The results do not require any action since the difference is small.</p>
</section></section><section class="level3"><h3 id="age">Age<a class="anchor" aria-label="anchor" href="#age"></a>
</h3>
<p>The <code>psychotree</code> package uses a model-based recursive partitioning that is particularly useful when you have a continuous variable such as age in years and a large enough sample. It will test different ways to partition the age variable to determine potential group differences <span class="citation" data-cites="strobl2015 strobl2021">(<a href="#ref-strobl2015" role="doc-biblioref">Strobl, Kopf, and Zeileis 2015</a>; <a href="#ref-strobl2021" role="doc-biblioref">Strobl et al. 2021</a>)</span>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb54"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifTable.html">RIdifTable</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.age</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No statistically significant DIF found."</code></pre>
</div>
</div>
<p>No DIF found for age.</p>
</section><section class="level3"><h3 id="group">Group<a class="anchor" aria-label="anchor" href="#group"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb56"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifTable.html">RIdifTable</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.group</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "No statistically significant DIF found."</code></pre>
</div>
</div>
<p>And no DIF for group.</p>
</section><section class="level3"><h3 id="sex-and-age">Sex and age<a class="anchor" aria-label="anchor" href="#sex-and-age"></a>
</h3>
<p>The <code>psychotree</code> package also allows for DIF interaction analysis with multiple DIF variables. We can use <code><a href="../reference/RIdifTable2.html">RIdifTable2()</a></code> to input two DIF variables.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb58"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifTable2.html">RIdifTable2</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.sex</span>, <span class="va">dif.age</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-52-1.png" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<table class="table table table-striped" style="font-size: 15px; font-family: Lato">
<thead><tr>
<th style="text-align:right;">
Item
</th>
<th style="text-align:right;">
2
</th>
<th style="text-align:right;">
3
</th>
<th style="text-align:right;">
Mean location
</th>
<th style="text-align:right;">
StDev
</th>
<th style="text-align:right;">
MaxDiff
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
PANAS_11
</td>
<td style="text-align:right;">
-0.314
</td>
<td style="text-align:right;">
-0.196
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.083
</td>
<td style="text-align:right;">
<span style="color: black">0.117</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_12
</td>
<td style="text-align:right;">
0.028
</td>
<td style="text-align:right;">
-0.044
</td>
<td style="text-align:right;">
-0.008
</td>
<td style="text-align:right;">
0.051
</td>
<td style="text-align:right;">
<span style="color: black">0.073</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_13
</td>
<td style="text-align:right;">
0.553
</td>
<td style="text-align:right;">
0.402
</td>
<td style="text-align:right;">
0.478
</td>
<td style="text-align:right;">
0.107
</td>
<td style="text-align:right;">
<span style="color: black">0.151</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_14
</td>
<td style="text-align:right;">
-0.328
</td>
<td style="text-align:right;">
-0.183
</td>
<td style="text-align:right;">
-0.255
</td>
<td style="text-align:right;">
0.103
</td>
<td style="text-align:right;">
<span style="color: black">0.146</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_16
</td>
<td style="text-align:right;">
0.004
</td>
<td style="text-align:right;">
0.114
</td>
<td style="text-align:right;">
0.059
</td>
<td style="text-align:right;">
0.078
</td>
<td style="text-align:right;">
<span style="color: black">0.111</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_17
</td>
<td style="text-align:right;">
0.520
</td>
<td style="text-align:right;">
0.290
</td>
<td style="text-align:right;">
0.405
</td>
<td style="text-align:right;">
0.163
</td>
<td style="text-align:right;">
<span style="color: black">0.230</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_19
</td>
<td style="text-align:right;">
-0.495
</td>
<td style="text-align:right;">
-0.355
</td>
<td style="text-align:right;">
-0.425
</td>
<td style="text-align:right;">
0.099
</td>
<td style="text-align:right;">
<span style="color: black">0.140</span>
</td>
</tr>
<tr>
<td style="text-align:right;">
PANAS_20
</td>
<td style="text-align:right;">
0.032
</td>
<td style="text-align:right;">
-0.028
</td>
<td style="text-align:right;">
0.002
</td>
<td style="text-align:right;">
0.042
</td>
<td style="text-align:right;">
<span style="color: black">0.059</span>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>No interaction effect found for sex and age. The analysis only shows the previously identified DIF for sex.</p>
</section><section class="level3"><h3 id="sec-diflrt">LRT-based DIF<a class="anchor" aria-label="anchor" href="#sec-diflrt"></a>
</h3>
<p>We’ll use the group variable as an example. First, we can simply run the test to get the overall result.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">erm.out</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/eRm/man/PCM.html" class="external-link">PCM</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/eRm/man/LRtest.html" class="external-link">LRtest</a></span><span class="op">(</span><span class="va">erm.out</span>, splitcr <span class="op">=</span> <span class="va">dif.group</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Andersen LR-test:
LR-value: 46.864
Chi-square df: 31
p-value:  0.034 </code></pre>
</div>
</div>
<p>Review the documentation for further details, using <code><a href="https://rdrr.io/pkg/eRm/man/LRtest.html" class="external-link">?LRtest</a></code> in your R console panel in Rstudio. There is also a plotting function, <code><a href="https://rdrr.io/pkg/eRm/man/LRtest.html" class="external-link">plotGOF()</a></code> that may be of interest.</p>
<section class="level4"><h4 id="item-location-table">Item location table<a class="anchor" aria-label="anchor" href="#item-location-table"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifTableLR.html">RIdifTableLR</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.group</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1"></th>
<th style="padding-bottom:0; padding-left:5px;padding-right:5px;text-align: center; font-weight: bold; " colspan="4"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">Item locations</div></th>
<th style="padding-bottom:0; padding-left:5px;padding-right:5px;text-align: center; font-weight: bold; " colspan="3"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">Standard errors</div></th>
</tr>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Earlier Start </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Later Start </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> MaxDiff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> All </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE_Earlier Start </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE_Later Start </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE_All </th>
  </tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.069</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.072</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.003</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.073 </td>
   <td style="text-align:right;"> 0.140 </td>
   <td style="text-align:right;"> 0.124 </td>
   <td style="text-align:right;font-style: italic;"> 0.093 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.33</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.346</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.016</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.342 </td>
   <td style="text-align:right;"> 0.155 </td>
   <td style="text-align:right;"> 0.133 </td>
   <td style="text-align:right;font-style: italic;"> 0.101 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.69</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.966</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.276</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.826 </td>
   <td style="text-align:right;"> 0.185 </td>
   <td style="text-align:right;"> 0.189 </td>
   <td style="text-align:right;font-style: italic;"> 0.129 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.118</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.054</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.064</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.084 </td>
   <td style="text-align:right;"> 0.142 </td>
   <td style="text-align:right;"> 0.121 </td>
   <td style="text-align:right;font-style: italic;"> 0.092 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.447</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.362</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.085</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.401 </td>
   <td style="text-align:right;"> 0.160 </td>
   <td style="text-align:right;"> 0.134 </td>
   <td style="text-align:right;font-style: italic;"> 0.102 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.66</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.822</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.162</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.751 </td>
   <td style="text-align:right;"> 0.184 </td>
   <td style="text-align:right;"> 0.172 </td>
   <td style="text-align:right;font-style: italic;"> 0.125 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.028</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.122</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.094</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.083 </td>
   <td style="text-align:right;"> 0.136 </td>
   <td style="text-align:right;"> 0.117 </td>
   <td style="text-align:right;font-style: italic;"> 0.088 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.351</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.348</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.003</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.352 </td>
   <td style="text-align:right;"> 0.160 </td>
   <td style="text-align:right;"> 0.138 </td>
   <td style="text-align:right;font-style: italic;"> 0.104 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Values highlighted in red are above the chosen cutoff 0.5 logits. Background color brown and blue indicate the lowest and highest values among the DIF groups.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level4"><h4 id="item-location-figure">Item location figure<a class="anchor" aria-label="anchor" href="#item-location-figure"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifFigureLR.html">RIdifFigureLR</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.group</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/theme_rise.html">theme_rise</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-55-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level4"><h4 id="item-threshold-table">Item threshold table<a class="anchor" aria-label="anchor" href="#item-threshold-table"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifThreshTblLR.html">RIdifThreshTblLR</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.group</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead>
<tr>
<th style="empty-cells: hide;" colspan="1"></th>
<th style="padding-bottom:0; padding-left:5px;padding-right:5px;text-align: center; font-weight: bold; " colspan="4"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">Threshold locations</div></th>
<th style="padding-bottom:0; padding-left:5px;padding-right:5px;text-align: center; font-weight: bold; " colspan="3"><div style="border-bottom: 1px solid #111111; margin-bottom: -1px; ">Standard errors</div></th>
</tr>
<tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item threshold </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Earlier Start </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Later Start </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> MaxDiff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> All </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE_Earlier Start </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE_Later Start </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE_All </th>
  </tr>
</thead>
<tbody>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_11</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.245</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.241</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.004</span> </td>
   <td style="text-align:right;font-style: italic;"> -1.240 </td>
   <td style="text-align:right;"> 0.098 </td>
   <td style="text-align:right;"> 0.094 </td>
   <td style="text-align:right;font-style: italic;"> 0.068 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.365</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.221</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.144</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.284 </td>
   <td style="text-align:right;"> 0.107 </td>
   <td style="text-align:right;"> 0.100 </td>
   <td style="text-align:right;font-style: italic;"> 0.073 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.281</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.096</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.185</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.180 </td>
   <td style="text-align:right;"> 0.131 </td>
   <td style="text-align:right;"> 0.114 </td>
   <td style="text-align:right;font-style: italic;"> 0.086 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.604</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.655</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.051</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.637 </td>
   <td style="text-align:right;"> 0.224 </td>
   <td style="text-align:right;"> 0.188 </td>
   <td style="text-align:right;font-style: italic;"> 0.144 </td>
  </tr>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_12</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.484</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.362</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.122</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.418 </td>
   <td style="text-align:right;"> 0.092 </td>
   <td style="text-align:right;"> 0.091 </td>
   <td style="text-align:right;font-style: italic;"> 0.065 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.241</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.198</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.439</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.005 </td>
   <td style="text-align:right;"> 0.126 </td>
   <td style="text-align:right;"> 0.108 </td>
   <td style="text-align:right;font-style: italic;"> 0.082 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.479</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.456</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.023</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.467 </td>
   <td style="text-align:right;"> 0.169 </td>
   <td style="text-align:right;"> 0.129 </td>
   <td style="text-align:right;font-style: italic;"> 0.103 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.086</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.489</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.403</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.323 </td>
   <td style="text-align:right;"> 0.233 </td>
   <td style="text-align:right;"> 0.205 </td>
   <td style="text-align:right;font-style: italic;"> 0.153 </td>
  </tr>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_13</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.067</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.23</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.297</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.093 </td>
   <td style="text-align:right;"> 0.092 </td>
   <td style="text-align:right;"> 0.089 </td>
   <td style="text-align:right;font-style: italic;"> 0.064 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.403</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.115</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.288</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.248 </td>
   <td style="text-align:right;"> 0.135 </td>
   <td style="text-align:right;"> 0.118 </td>
   <td style="text-align:right;font-style: italic;"> 0.088 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.889</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.042</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.153</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.983 </td>
   <td style="text-align:right;"> 0.197 </td>
   <td style="text-align:right;"> 0.164 </td>
   <td style="text-align:right;font-style: italic;"> 0.126 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.536</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">2.476</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: red !important;">0.94</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.979 </td>
   <td style="text-align:right;"> 0.316 </td>
   <td style="text-align:right;"> 0.384 </td>
   <td style="text-align:right;font-style: italic;"> 0.239 </td>
  </tr>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_14</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.017</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.972</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.045</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.990 </td>
   <td style="text-align:right;"> 0.095 </td>
   <td style="text-align:right;"> 0.094 </td>
   <td style="text-align:right;font-style: italic;"> 0.066 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.134</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.272</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.138</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.205 </td>
   <td style="text-align:right;"> 0.111 </td>
   <td style="text-align:right;"> 0.103 </td>
   <td style="text-align:right;font-style: italic;"> 0.076 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.456</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.095</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.361</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.239 </td>
   <td style="text-align:right;"> 0.146 </td>
   <td style="text-align:right;"> 0.116 </td>
   <td style="text-align:right;font-style: italic;"> 0.091 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.168</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.366</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.198</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.294 </td>
   <td style="text-align:right;"> 0.216 </td>
   <td style="text-align:right;"> 0.173 </td>
   <td style="text-align:right;font-style: italic;"> 0.135 </td>
  </tr>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_16</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.156</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.25</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.094</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.202 </td>
   <td style="text-align:right;"> 0.097 </td>
   <td style="text-align:right;"> 0.091 </td>
   <td style="text-align:right;font-style: italic;"> 0.066 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.009</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.091</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.1</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.046 </td>
   <td style="text-align:right;"> 0.130 </td>
   <td style="text-align:right;"> 0.112 </td>
   <td style="text-align:right;font-style: italic;"> 0.085 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.324</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.354</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.03</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.344 </td>
   <td style="text-align:right;"> 0.159 </td>
   <td style="text-align:right;"> 0.132 </td>
   <td style="text-align:right;font-style: italic;"> 0.102 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.611</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.435</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.176</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.508 </td>
   <td style="text-align:right;"> 0.253 </td>
   <td style="text-align:right;"> 0.201 </td>
   <td style="text-align:right;font-style: italic;"> 0.157 </td>
  </tr>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_17</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.264</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.368</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.104</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.324 </td>
   <td style="text-align:right;"> 0.097 </td>
   <td style="text-align:right;"> 0.089 </td>
   <td style="text-align:right;font-style: italic;"> 0.066 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.389</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.421</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.032</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.412 </td>
   <td style="text-align:right;"> 0.146 </td>
   <td style="text-align:right;"> 0.128 </td>
   <td style="text-align:right;font-style: italic;"> 0.096 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.804</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.955</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.151</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.894 </td>
   <td style="text-align:right;"> 0.205 </td>
   <td style="text-align:right;"> 0.181 </td>
   <td style="text-align:right;font-style: italic;"> 0.136 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.182</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.545</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.363</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.373 </td>
   <td style="text-align:right;"> 0.288 </td>
   <td style="text-align:right;"> 0.290 </td>
   <td style="text-align:right;font-style: italic;"> 0.204 </td>
  </tr>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_19</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-1.339</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-1.263</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.076</span> </td>
   <td style="text-align:right;font-style: italic;"> -1.297 </td>
   <td style="text-align:right;"> 0.100 </td>
   <td style="text-align:right;"> 0.098 </td>
   <td style="text-align:right;font-style: italic;"> 0.070 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.388</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.27</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.118</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.323 </td>
   <td style="text-align:right;"> 0.108 </td>
   <td style="text-align:right;"> 0.105 </td>
   <td style="text-align:right;font-style: italic;"> 0.075 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">0.101</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.333</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.434</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.143 </td>
   <td style="text-align:right;"> 0.127 </td>
   <td style="text-align:right;"> 0.111 </td>
   <td style="text-align:right;font-style: italic;"> 0.083 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.512</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.378</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.134</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.430 </td>
   <td style="text-align:right;"> 0.207 </td>
   <td style="text-align:right;"> 0.156 </td>
   <td style="text-align:right;font-style: italic;"> 0.125 </td>
  </tr>
<tr grouplength="4"><td colspan="8" style="border-bottom: 0;"><strong>PANAS_20</strong></td></tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c1 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.906</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.877</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.029</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.887 </td>
   <td style="text-align:right;"> 0.093 </td>
   <td style="text-align:right;"> 0.090 </td>
   <td style="text-align:right;font-style: italic;"> 0.065 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c2 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">-0.189</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">-0.257</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.068</span> </td>
   <td style="text-align:right;font-style: italic;"> -0.223 </td>
   <td style="text-align:right;"> 0.108 </td>
   <td style="text-align:right;"> 0.099 </td>
   <td style="text-align:right;font-style: italic;"> 0.073 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c3 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.037</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">0.585</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.452</span> </td>
   <td style="text-align:right;font-style: italic;"> 0.760 </td>
   <td style="text-align:right;"> 0.162 </td>
   <td style="text-align:right;"> 0.123 </td>
   <td style="text-align:right;font-style: italic;"> 0.098 </td>
  </tr>
<tr>
<td style="text-align:left;padding-left: 2em;font-weight: bold;" indentlevel="1"> c4 </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: burlywood !important;">1.463</span> </td>
   <td style="text-align:left;"> <span style="     border-radius: 4px; padding-right: 4px; padding-left: 4px; background-color: lightblue !important;">1.941</span> </td>
   <td style="text-align:left;font-weight: bold;"> <span style="     color: black !important;">0.478</span> </td>
   <td style="text-align:right;font-style: italic;"> 1.756 </td>
   <td style="text-align:right;"> 0.277 </td>
   <td style="text-align:right;"> 0.238 </td>
   <td style="text-align:right;font-style: italic;"> 0.180 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Values highlighted in red are above the chosen cutoff 0.5 logits. Background color brown and blue indicate the lowest and highest values among the DIF groups.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level4"><h4 id="item-threshold-figure">Item threshold figure<a class="anchor" aria-label="anchor" href="#item-threshold-figure"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIdifThreshFigLR.html">RIdifThreshFigLR</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.group</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="../reference/theme_rise.html">theme_rise</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-57-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The item threshold table shows that the top threshold for item 13 differs more than 0.5 logits between groups. In this set of 8 items with 4 thresholds each, it is unlikely to result in problematic differences in estimated person scores.</p>
</section></section><section class="level3"><h3 id="sec-lordif">Logistic Ordinal Regression DIF<a class="anchor" aria-label="anchor" href="#sec-lordif"></a>
</h3>
<p>The <code>lordif</code> package <span class="citation" data-cites="choi_lordif_2011">(<a href="#ref-choi_lordif_2011" role="doc-biblioref">Choi, Gibbons, and Crane 2011</a>)</span> does not use a Rasch measurement model, it only offers a choice between the Graded Response Model (GRM) and the Generalized Partial Credit Model (GPCM). Both of these are 2PL models, meaning that they estimate a discrimination parameter for each item in addition to the item threshold parameters. <code>lordif</code> relies on the <code>mirt</code> package.</p>
<p>There are several nice features available in the <code>lordif</code> package. First, we get a χ2 test of uniform or non-uniform DIF. Second, there are three possible methods/criteria for flagging items with potential DIF. One of these uses a likelihood ratio (LR) χ2 test, while the other two are indicators of DIF size/magnitude, either using a pseudo R2 statistic (“McFadden”, “Nagelkerke”, or “CoxSnell”) or a Beta criterion. For further details, see <code><a href="https://rdrr.io/pkg/lordif/man/lordif.html" class="external-link">?lordif</a></code> in your R console or the paper describing the package <span class="citation" data-cites="choi_lordif_2011">(<a href="#ref-choi_lordif_2011" role="doc-biblioref">Choi, Gibbons, and Crane 2011</a>)</span>.</p>
<p>Below is some sample code to get you started with <code>lordif</code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">lordif</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_dif</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lordif/man/lordif.html" class="external-link">lordif</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">as.numeric</a></span><span class="op">(</span><span class="va">dif.sex</span><span class="op">)</span>, <span class="co"># make sure that the data is in a dataframe-object and that the DIF variable is numeric</span></span>
<span>                criterion <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Chisqr"</span><span class="op">)</span>, </span>
<span>                alpha <span class="op">=</span> <span class="fl">0.01</span>, </span>
<span>                beta.change <span class="op">=</span> <span class="fl">0.1</span>,</span>
<span>                model <span class="op">=</span> <span class="st">"GPCM"</span>,</span>
<span>                R2.change <span class="op">=</span> <span class="fl">0.02</span><span class="op">)</span></span>
<span></span>
<span><span class="va">g_dif_sum</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">g_dif</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># threshold values for colorizing the table below</span></span>
<span><span class="va">alpha</span> <span class="op">=</span> <span class="fl">0.01</span></span>
<span><span class="va">beta.change</span> <span class="op">=</span> <span class="fl">0.1</span></span>
<span><span class="va">R2.change</span> <span class="op">=</span> <span class="fl">0.02</span></span>
<span></span>
<span><span class="va">g_dif_sum</span><span class="op">$</span><span class="va">stats</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">all_of</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"item"</span>,<span class="st">"df12"</span>,<span class="st">"df13"</span>,<span class="st">"df23"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/Round.html" class="external-link">round</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://tibble.tidyverse.org/reference/add_column.html" class="external-link">add_column</a></span><span class="op">(</span>itemnr <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>, .before <span class="op">=</span> <span class="st">"ncat"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">chi12</span>,<span class="va">chi13</span>,<span class="va">chi23</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/cell_spec.html" class="external-link">cell_spec</a></span><span class="op">(</span><span class="va">.x</span>,</span>
<span>                               color <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>                                 <span class="va">.x</span> <span class="op">&lt;</span> <span class="va">alpha</span> <span class="op">~</span> <span class="st">"red"</span>,</span>
<span>                                 <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"black"</span></span>
<span>                               <span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"pseudo"</span><span class="op">)</span>, <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/cell_spec.html" class="external-link">cell_spec</a></span><span class="op">(</span><span class="va">.x</span>,</span>
<span>                               color <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>                                 <span class="va">.x</span> <span class="op">&gt;</span> <span class="va">R2.change</span> <span class="op">~</span> <span class="st">"red"</span>,</span>
<span>                                 <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"black"</span></span>
<span>                               <span class="op">)</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>beta12 <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/cell_spec.html" class="external-link">cell_spec</a></span><span class="op">(</span><span class="va">beta12</span>,</span>
<span>                               color <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>                                 <span class="va">beta12</span> <span class="op">&gt;</span> <span class="va">beta.change</span> <span class="op">~</span> <span class="st">"red"</span>,</span>
<span>                                 <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"black"</span></span>
<span>                               <span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="../reference/kbl_rise.html">kbl_rise</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> itemnr </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> ncat </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> chi12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> chi13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> chi23 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> beta12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo12.McFadden </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo13.McFadden </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo23.McFadden </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo12.Nagelkerke </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo13.Nagelkerke </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo23.Nagelkerke </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo12.CoxSnell </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo13.CoxSnell </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> pseudo23.CoxSnell </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.323</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.004</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.003</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.005</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.005</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.005</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.005</span> </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.013</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.019</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.192</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.008</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.106</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.057</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.077</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.007</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.182</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.401</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.83</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.64</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.17</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.068</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.32</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.032</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.008</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.008</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.011</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.011</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.01</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.01</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_19 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.178</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.25</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.33</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.002</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.68</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.349</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.164</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.001</span> </td>
  </tr>
</tbody>
</table>
</div>
</div>
<p>We can review the results regarding uniform/non-uniform DIF by looking at the <code>chi*</code> columns. Uniform DIF is indicated by column <code>chi12</code> and non-uniform DIF by <code>chi23</code>, while column <code>chi13</code> represents “an overall test of”total DIF effect” <span class="citation" data-cites="choi_lordif_2011">(<a href="#ref-choi_lordif_2011" role="doc-biblioref">Choi, Gibbons, and Crane 2011</a>)</span>.</p>
<p>While the table indicates significant chi2-tests for items 11 and 17, the magnitude estimates are low for these items.</p>
<p>There are some plots available as well, using the base R <code><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot()</a></code> function. For some reason the plots won’t render in this Quarto document, so I will try to sort that out at some point.</p>
<div class="sourceCode cell-code" id="cb67"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">g_dif</span><span class="op">)</span> <span class="co"># use option `graphics.off()` to get the plots rendered one by one</span></span>
<span><span class="co">#plot(g_dif, graphics.off())</span></span></code></pre></div>
<div class="cell quarto-layout-panel" data-layout-ncol="2">

</div>
</section><section class="level3"><h3 id="partial-gamma-dif">Partial gamma DIF<a class="anchor" aria-label="anchor" href="#partial-gamma-dif"></a>
</h3>
<p>The <code>iarm</code> package provides a function to assess DIF by partial gamma <span class="citation" data-cites="bjorner_differential_1998">(<a href="#ref-bjorner_differential_1998" role="doc-biblioref">Bjorner et al. 1998</a>)</span>. It should be noted that this function only shows a single partial gamma value per item, so if you have more than two groups in your comparison, you will want to also use other methods to understand your results better.</p>
<p>There are some recommended cutoff-values mentioned in the paper above:</p>
<p>No or negligible DIF:</p>
<ul>
<li>Gamma within the interval -0.21 to 0.21, <em>or</em>
</li>
<li>Gamma not significantly different from 0</li>
</ul>
<p>Slight to moderate DIF:</p>
<ul>
<li>Gamma within the interval -0.31 to 0.31 (and outside -0.21 to 0.21), <em>or</em>
</li>
<li>not significantly outside the interval -0.21 to 0.21</li>
</ul>
<p>Moderate to large DIF:</p>
<ul>
<li>Gamma outside the interval -0.31 to 0.31, <strong>and</strong>
</li>
<li>significantly outside the interval -0.21 to 0.21</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIpartgamDIF.html">RIpartgamDIF</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">dif.sex</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Partial gamma </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> SE </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Lower CI </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Upper CI </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Adjusted p-value (BH) </th>
  </tr></thead>
<tbody><tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.234</span> </td>
   <td style="text-align:right;"> 0.054 </td>
   <td style="text-align:right;"> 0.127 </td>
   <td style="text-align:right;"> 0.341 </td>
   <td style="text-align:right;"> 0 </td>
  </tr></tbody>
</table>
</div>
</div>
<p>We can see “slight” DIF for item 17, with a statistically significant gamma of .23.</p>
</section></section><section class="level2"><h2 id="rasch-analysis-3">Rasch analysis 3<a class="anchor" aria-label="anchor" href="#rasch-analysis-3"></a>
</h2>
<p>While there were no significant issues with DIF for any item/subgroup combination, we need to address the previously identified problem:</p>
<ul>
<li>Items 16 and 19 have the largest residual correlation.</li>
</ul>
<p>We’ll remove item 19 since item 16 has better targeting.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">removed.items</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">removed.items</span>,<span class="st">"PANAS_19"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">df_backup2</span> <span class="op">&lt;-</span> <span class="va">df</span></span>
<span></span>
<span><span class="va">df</span> <span class="op">&lt;-</span> <span class="va">df_backup2</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/all_of.html" class="external-link">any_of</a></span><span class="op">(</span><span class="va">removed.items</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="cell">
<div class="cell-output-display column-margin">
<table class="table table table-striped" style="font-size: 13px; font-family: Lato">
<thead><tr>
<th style="text-align:center;">
itemnr
</th>
<th style="text-align:left;">
item
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_11</span>
</td>
<td style="text-align:left;">
Distressed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_12</span>
</td>
<td style="text-align:left;">
Upset
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_13</span>
</td>
<td style="text-align:left;">
Hostile
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_14</span>
</td>
<td style="text-align:left;">
Irritable
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_16</span>
</td>
<td style="text-align:left;">
Afraid
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_17</span>
</td>
<td style="text-align:left;">
Ashamed
</td>
</tr>
<tr>
<td style="text-align:center;">
<span style="color: grey; font-weight: bold">PANAS_20</span>
</td>
<td style="text-align:left;">
Jittery
</td>
</tr>
</tbody>
</table>
</div>
</div>
<section class="level3"><h3 id="item-fit">Item fit<a class="anchor" aria-label="anchor" href="#item-fit"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simfit3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIgetfit.html">RIgetfit</a></span><span class="op">(</span><span class="va">df</span>, iterations <span class="op">=</span> <span class="fl">1000</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/RIitemfit.html">RIitemfit</a></span><span class="op">(</span><span class="va">df</span>, <span class="va">simfit3</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit diff </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit diff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.127</span> </td>
   <td style="text-align:left;"> [0.924, 1.072] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.152</span> </td>
   <td style="text-align:left;"> [0.927, 1.079] </td>
   <td style="text-align:left;"> 0.055 </td>
   <td style="text-align:left;"> 0.073 </td>
   <td style="text-align:right;"> -0.33 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.783</span> </td>
   <td style="text-align:left;"> [0.91, 1.093] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.783</span> </td>
   <td style="text-align:left;"> [0.89, 1.096] </td>
   <td style="text-align:left;"> 0.127 </td>
   <td style="text-align:left;"> 0.107 </td>
   <td style="text-align:right;"> -0.06 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.047</span> </td>
   <td style="text-align:left;"> [0.911, 1.102] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.127</span> </td>
   <td style="text-align:left;"> [0.885, 1.122] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> 0.005 </td>
   <td style="text-align:right;"> 0.42 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.952</span> </td>
   <td style="text-align:left;"> [0.91, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.991</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.32 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.939</span> </td>
   <td style="text-align:left;"> [0.906, 1.087] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.968</span> </td>
   <td style="text-align:left;"> [0.889, 1.111] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.00 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.002</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.981</span> </td>
   <td style="text-align:left;"> [0.863, 1.172] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.34 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.162</span> </td>
   <td style="text-align:left;"> [0.904, 1.085] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.201</span> </td>
   <td style="text-align:left;"> [0.911, 1.093] </td>
   <td style="text-align:left;"> 0.077 </td>
   <td style="text-align:left;"> 0.108 </td>
   <td style="text-align:right;"> -0.05 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> MSQ values based on conditional calculations (n = 1851 complete cases).<br>                                Simulation based thresholds from 1000 simulated datasets.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level3"><h3 id="cicc">CICC<a class="anchor" aria-label="anchor" href="#cicc"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/RASCHplot/man/CICCplot.html" class="external-link">CICCplot</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/eRm/man/PCM.html" class="external-link">PCM</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>,</span>
<span>         which.item <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">7</span><span class="op">)</span>,</span>
<span>         lower.groups <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">7</span>,<span class="fl">14</span>,<span class="fl">21</span>,<span class="fl">28</span><span class="op">)</span>,</span>
<span>         grid.items <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-65-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="residual-correlations-2">Residual correlations<a class="anchor" aria-label="anchor" href="#residual-correlations-2"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">simcor3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIgetResidCor.html">RIgetResidCor</a></span><span class="op">(</span><span class="va">df</span>, iterations <span class="op">=</span> <span class="fl">1000</span>, cpu <span class="op">=</span> <span class="fl">8</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/RIresidcorr.html">RIresidcorr</a></span><span class="op">(</span><span class="va">df</span>, cutoff <span class="op">=</span> <span class="va">simcor3</span><span class="op">$</span><span class="va">p99</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;">   </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_11 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_12 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_13 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_14 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_16 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_17 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> PANAS_20 </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.18</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.11</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.01</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">-0.04</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.06</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.26</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.26</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.2</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.09</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.14</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.22</span> </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0</span> </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.12</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.29</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.16</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.13</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.15</span> </td>
   <td style="text-align:left;"> <span style="     color: black !important;">-0.17</span> </td>
   <td style="text-align:left;">  </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Relative cut-off value is -0.054, which is 0.093 above the average correlation (-0.147).<br>                                Correlations above the cut-off are highlighted in red text.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level3"><h3 id="targeting-2">Targeting<a class="anchor" aria-label="anchor" href="#targeting-2"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df</span>, bins <span class="op">=</span> <span class="fl">45</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-67-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="item-hierarchy-2">Item hierarchy<a class="anchor" aria-label="anchor" href="#item-hierarchy-2"></a>
</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb74"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-68-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="analysis-3-comments">Analysis 3 comments<a class="anchor" aria-label="anchor" href="#analysis-3-comments"></a>
</h3>
<p>No problematic residual correlations remaining. Several items show misfit but we will end this sample analysis here and move on to show other functions.</p>
<p>There are several item thresholds that are very closely located, as shown in the item hierarchy figure. This is not ideal, since it will inflate reliability estimates. However, we will not modify the response categories for this analysis, we only note that this is not workable and should be dealt with by trying variations of merged response categories to achieve better separation of threshold locations without disordering.</p>
</section></section><section class="level2"><h2 id="reliability">Reliability<a class="anchor" aria-label="anchor" href="#reliability"></a>
</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb75"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RItif.html">RItif</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-69-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>The figure above shows the Test Information Function (TIF), which indicates the reliability of all items making up the test/scale (not the reliability of the sample).</p>
<p>The default cutoff value used in <code><a href="../reference/RItif.html">RItif()</a></code> is TIF = 3.33, which corresponds to person separation index (PSI) = 0.7. PSI is similar to reliability coefficients such as omega and alpha, ranging from 0 to 1. You can change the TIF cutoff by using the option <code>cutoff</code>, for instance <code>cutoff = 2.5</code> (TIF values range from 1 and up).</p>
<p>While 11.8% of respondents had a floor effect based on the raw sum scored data, the figure above shows us that 41.8% are located below the point where the items produce a PSI of 0.7 or higher. Again, note that this figure shows the reliability of the test/scale, not the sample. If you want to add the sample reliability use option <code>samplePSI = TRUE</code>. More details are available in the documentation <code><a href="../reference/RItif.html">?RItif</a></code>.</p>
</section><section class="level2"><h2 id="person-fit">Person fit<a class="anchor" aria-label="anchor" href="#person-fit"></a>
</h2>
<p>We can also look at how the respondents fit the Rasch model with these items. By default, <code><a href="../reference/RIpfit.html">RIpfit()</a></code> outputs a histogram and a hex heatmap with the person infit ZSTD statistic, using +/- 1.96 as cutoff values. This is currently the only person fit method implemented in the <code>easyRasch</code> package, and the curious analyst is suggested to look at the package <a href="https://www.rdocumentation.org/packages/PerFit/versions/1.4.6/topics/PerFit-package" class="external-link">PerFit</a> for more tools.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb76"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIpfit.html">RIpfit</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-70-1.png" width="672"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-70-2.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>You can export the person fit values to a new variable in the dataframe by specifying <code>output = "dataframe"</code>, or if you just want the row numbers for respondents with deviant infit values, <code>output = "rowid"</code>.</p>
<p>You can also specify a grouping variable to visualize the person fit for different groups.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIpfit.html">RIpfit</a></span><span class="op">(</span><span class="va">df</span>, group <span class="op">=</span> <span class="va">dif.sex</span>, output <span class="op">=</span> <span class="st">"heatmap"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-71-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>Person fit is a useful way to identify respondents with unexpected response patterns and investigate this further.</p>
<section class="level3"><h3 id="perfit-sample-code">
<code>PerFit</code> sample code<a class="anchor" aria-label="anchor" href="#perfit-sample-code"></a>
</h3>
<p>While none of the functions in the <code>PerFit</code> package has been implemented in <code>easyRasch</code>, this is some code to get you started if you are interested in using it. There are multiple methods/functions available for polytomous and dichotomous data, see the package <a href="https://www.rdocumentation.org/packages/PerFit/versions/1.4.6/topics/PerFit-package" class="external-link">documentation</a>.</p>
<p>For this example, we’ll use the non-parametric U3 statistic generalized to polytomous items <span class="citation" data-cites="emons_nonparametric_2008">(<a href="#ref-emons_nonparametric_2008" role="doc-biblioref">Emons 2008</a>)</span>.</p>
<section class="level4"><h4 id="u3poly">U3poly<a class="anchor" aria-label="anchor" href="#u3poly"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">PerFit</span><span class="op">)</span></span>
<span><span class="va">pfit_u3poly</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PerFit/man/U3poly.html" class="external-link">U3poly</a></span><span class="op">(</span>matrix <span class="op">=</span> <span class="va">df</span>, </span>
<span>                      Ncat <span class="op">=</span> <span class="fl">5</span>, <span class="co"># make sure to input number of response categories, not thresholds</span></span>
<span>                      IRT.PModel <span class="op">=</span> <span class="st">"PCM"</span><span class="op">)</span></span></code></pre></div>
</div>
</section><section class="level4"><h4 id="cutoff-information">Cutoff information<a class="anchor" aria-label="anchor" href="#cutoff-information"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb79"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/PerFit/man/cutoff.html" class="external-link">cutoff</a></span><span class="op">(</span><span class="va">pfit_u3poly</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>$Cutoff
[1] 0.4013

$Cutoff.SE
[1] 0.0233

$Prop.flagged
[1] 0.1059

$Tail
[1] "upper"

$Cutoff.CI
  2.5%  97.5%
0.3644 0.4695

attr(,"class")
[1] "PerFit.cutoff"</code></pre>
</div>
</div>
</section><section class="level4"><h4 id="flagged-respondents">Flagged respondents<a class="anchor" aria-label="anchor" href="#flagged-respondents"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/pkg/PerFit/man/flagged.resp.html" class="external-link">flagged.resp</a></span><span class="op">(</span><span class="va">pfit_u3poly</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/pluck.html" class="external-link">pluck</a></span><span class="op">(</span><span class="st">"Scores"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/desc.html" class="external-link">desc</a></span><span class="op">(</span><span class="va">PFscores</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    FlaggedID It1 It4 It7 It2 It5 It3 It6 PFscores
1         159   0   0   0   0   0   0   1   1.0000
2         168   0   0   0   0   0   0   1   1.0000
3         193   0   0   0   0   0   0   1   1.0000
4         214   0   0   0   0   0   0   1   1.0000
5         222   0   0   0   0   0   4   0   1.0000
6         324   0   0   0   0   0   0   1   1.0000
7         667   0   0   0   0   0   0   1   1.0000
8        1014   0   0   0   0   0   4   0   1.0000
9        1146   0   0   0   0   0   0   1   1.0000
10       1171   0   0   0   0   0   0   1   1.0000
11       1609   0   0   0   0   0   0   2   1.0000
12        555   0   0   0   0   0   3   0   0.9484
13        782   0   0   0   0   0   3   0   0.9484
14       1015   0   0   0   0   0   3   0   0.9484
15        187   0   4   2   4   4   4   4   0.9089
16       1290   0   1   0   0   0   4   0   0.9020
17        225   0   0   0   0   0   2   0   0.8939
18        939   0   0   0   0   0   2   0   0.8939
19       1364   0   0   0   0   0   2   0   0.8939
20       1738   0   0   0   0   0   2   0   0.8939
21       1770   0   0   0   0   0   2   0   0.8939
22       1021   0   1   0   0   0   0   4   0.8880
23         26   0   0   0   0   0   1   0   0.8476
24        596   0   0   0   0   0   1   0   0.8476
25        902   0   0   0   0   0   1   0   0.8476
26       1098   0   0   0   0   0   1   0   0.8476
27       1230   0   0   0   0   0   1   0   0.8476
28       1418   0   0   0   0   0   1   0   0.8476
29       1475   0   0   0   0   0   1   0   0.8476
30       1847   0   0   0   0   0   1   0   0.8476
31       1036   0   2   0   4   4   0   4   0.8127
32         44   4   0   4   0   0   4   0   0.7964
33       1075   0   3   0   4   1   4   4   0.7765
34       1472   4   0   0   0   0   0   4   0.7624
35        463   0   0   4   0   0   0   0   0.7439
36        488   0   0   4   0   0   0   0   0.7439
37       1421   0   0   4   0   0   0   0   0.7439
38       1531   4   4   0   4   0   4   0   0.7272
39        971   0   0   0   0   3   0   0   0.7021
40       1774   0   0   0   4   4   1   3   0.7009
41        446   0   4   2   4   4   3   4   0.6770
42       1673   1   0   0   0   4   0   0   0.6588
43        814   2   0   0   0   1   4   0   0.6560
44        701   0   0   0   0   2   0   0   0.6536
45       1578   0   0   0   0   2   0   0   0.6536
46        487   0   4   2   4   4   1   4   0.6504
47       1258   0   0   3   0   0   0   0   0.6198
48       1681   0   0   3   0   0   0   0   0.6198
49        571   0   0   0   2   0   0   0   0.6101
50       1402   0   0   0   2   0   0   0   0.6101
51       1682   0   0   0   2   0   0   0   0.6101
52        597   0   4   0   0   0   0   0   0.6095
53        994   1   0   0   0   4   0   1   0.6088
54        563   0   2   0   4   0   0   0   0.6067
55        721   4   0   0   0   0   0   0   0.5996
56       1159   4   0   0   0   0   0   0   0.5996
57       1602   4   0   0   0   0   0   0   0.5996
58       1797   4   0   0   0   0   0   0   0.5996
59       1170   4   4   4   0   0   0   0   0.5993
60       1287   4   2   0   4   4   0   0   0.5962
61       1006   0   3   0   4   4   2   0   0.5930
62       1383   0   4   1   4   0   3   2   0.5925
63        541   0   4   4   4   2   2   4   0.5887
64        356   0   0   0   0   1   0   0   0.5825
65        470   0   0   0   0   1   0   0   0.5825
66        567   0   0   0   0   1   0   0   0.5825
67        623   0   0   0   0   1   0   0   0.5825
68        659   0   0   0   0   1   0   0   0.5825
69        710   0   0   0   0   1   0   0   0.5825
70        987   0   0   0   0   1   0   0   0.5825
71       1095   0   0   0   0   1   0   0   0.5825
72       1106   0   0   0   0   1   0   0   0.5825
73       1268   0   0   0   0   1   0   0   0.5825
74       1271   0   0   0   0   1   0   0   0.5825
75       1276   0   0   0   0   1   0   0   0.5825
76       1480   0   0   0   0   1   0   0   0.5825
77       1763   0   0   0   0   1   0   0   0.5825
78        576   0   0   2   0   0   3   0   0.5814
79        690   3   0   0   3   3   0   4   0.5802
80        727   3   0   2   0   0   0   4   0.5778
81        916   0   0   1   0   0   0   3   0.5768
82        712   3   0   0   0   0   3   0   0.5731
83        799   1   4   0   4   0   0   0   0.5687
84        754   0   1   0   0   0   0   3   0.5674
85        717   4   4   4   4   4   0   0   0.5585
86        472   1   0   0   1   4   0   0   0.5560
87        173   3   4   0   4   0   0   0   0.5501
88        851   0   0   1   0   1   0   3   0.5494
89        227   0   0   0   0   1   0   1   0.5386
90        409   0   0   0   0   1   0   1   0.5386
91       1192   0   1   0   0   0   3   0   0.5360
92        247   4   0   1   0   0   0   0   0.5295
93       1758   1   4   0   4   3   3   3   0.5229
94       1703   0   1   0   0   0   0   2   0.5109
95        531   4   1   3   0   4   3   3   0.5095
96        622   0   3   0   0   0   0   0   0.5088
97        762   0   3   0   0   0   0   0   0.5088
98        981   4   0   4   3   1   0   0   0.5079
99        278   1   0   0   2   0   0   3   0.5076
100       584   0   0   0   1   0   0   1   0.5020
101      1045   0   0   0   1   0   0   1   0.5020
102      1191   0   0   0   1   0   0   1   0.5020
103      1556   0   1   0   1   0   3   0   0.4993
104       820   2   0   0   0   0   2   3   0.4985
105       481   1   4   3   2   0   3   4   0.4973
106        38   4   3   0   0   0   0   0   0.4895
107       728   3   4   4   1   3   0   4   0.4889
108        56   0   0   0   1   0   0   0   0.4844
109       183   0   0   0   1   0   0   0   0.4844
110       209   0   0   0   1   0   0   0   0.4844
111       331   0   0   0   1   0   0   0   0.4844
112       410   0   0   0   1   0   0   0   0.4844
113       797   0   0   0   1   0   0   0   0.4844
114       886   0   0   0   1   0   0   0   0.4844
115      1067   0   0   0   1   0   0   0   0.4844
116      1269   0   0   0   1   0   0   0   0.4844
117      1558   0   0   0   1   0   0   0   0.4844
118      1663   0   0   0   1   0   0   0   0.4844
119      1680   0   0   0   1   0   0   0   0.4844
120      1726   0   0   0   1   0   0   0   0.4844
121       197   0   0   0   0   1   1   0   0.4817
122       562   1   0   3   0   0   3   0   0.4802
123       451   3   4   0   0   3   0   3   0.4800
124      1583   0   0   4   2   3   1   1   0.4791
125      1214   0   2   2   3   4   2   4   0.4754
126        73   3   3   0   2   0   4   2   0.4732
127       702   0   3   0   1   0   3   0   0.4732
128      1642   4   0   1   0   0   2   0   0.4725
129       527   0   0   1   0   0   2   0   0.4706
130       857   0   0   1   0   0   2   0   0.4706
131      1311   0   0   1   0   0   2   0   0.4706
132       434   2   0   4   0   1   0   0   0.4691
133       788   4   2   2   4   1   0   4   0.4680
134       606   1   2   2   0   0   0   4   0.4663
135      1601   3   0   0   0   0   3   2   0.4601
136      1550   3   3   0   3   4   1   4   0.4572
137        96   3   0   0   0   0   0   0   0.4554
138       352   3   0   0   0   0   0   0   0.4554
139       755   3   0   0   0   0   0   0   0.4554
140       830   3   0   0   0   0   0   0   0.4554
141      1060   3   0   0   0   0   0   0   0.4554
142      1374   3   0   0   0   0   0   0   0.4554
143      1714   3   0   0   0   0   0   0   0.4554
144      1745   3   0   0   0   0   0   0   0.4554
145       166   0   1   0   0   0   2   0   0.4551
146       684   0   0   0   2   3   0   1   0.4546
147      1019   0   0   0   1   3   0   1   0.4546
148      1800   1   0   1   0   0   3   0   0.4531
149         8   0   0   2   0   0   0   0   0.4496
150        54   0   0   2   0   0   0   0   0.4496
151        82   0   0   2   0   0   0   0   0.4496
152       343   0   0   2   0   0   0   0   0.4496
153       401   0   0   2   0   0   0   0   0.4496
154       538   0   0   2   0   0   0   0   0.4496
155       603   0   0   2   0   0   0   0   0.4496
156       914   0   0   2   0   0   0   0   0.4496
157      1132   0   0   2   0   0   0   0   0.4496
158      1144   0   0   2   0   0   0   0   0.4496
159      1193   0   0   2   0   0   0   0   0.4496
160      1239   0   0   2   0   0   0   0   0.4496
161      1493   0   0   2   0   0   0   0   0.4496
162      1532   0   0   2   0   0   0   0   0.4496
163      1606   0   0   2   0   0   0   0   0.4496
164      1747   0   0   2   0   0   0   0   0.4496
165      1752   0   0   2   0   0   0   0   0.4496
166      1768   0   0   2   0   0   0   0   0.4496
167      1822   0   0   2   0   0   0   0   0.4496
168      1176   0   0   0   1   0   1   0   0.4451
169        62   1   1   0   0   0   3   0   0.4442
170      1503   4   4   3   4   0   3   1   0.4432
171        53   0   1   4   1   1   0   0   0.4428
172       505   3   4   4   0   1   0   0   0.4424
173       129   0   0   3   2   0   0   0   0.4398
174       221   0   4   0   3   1   1   0   0.4395
175       114   0   0   2   0   3   0   0   0.4386
176       658   0   0   2   0   3   0   0   0.4386
177       207   3   0   3   4   4   0   2   0.4385
178      1447   1   4   0   0   1   0   0   0.4358
179       959   0   3   3   0   0   0   0   0.4294
180       428   4   4   0   3   3   2   4   0.4281
181       500   2   4   0   4   3   3   0   0.4243
182      1666   3   1   4   0   3   0   0   0.4238
183       115   0   1   0   1   1   3   0   0.4224</code></pre>
</div>
</div>
<p>The dataframe shown under the tab <code>Flagged respondents</code> above contains a variable named <code>FlaggedID</code> which represents the row id’s. This variable is useful if one wants to filter out respondents with deviant response patterns (person misfit). There are indications that persons with misfit may affect results of Andersen’s LR-test for DIF <span class="citation" data-cites="artner_simulation_2016">(<a href="#ref-artner_simulation_2016" role="doc-biblioref">Artner 2016</a>)</span>.</p>
</section></section><section class="level3"><h3 id="item-fit-without-aberrant-responses">Item fit without aberrant responses<a class="anchor" aria-label="anchor" href="#item-fit-without-aberrant-responses"></a>
</h3>
<p>We can remove the misfitting persons to see how that affects item fit. Let’s also compare with the misfitting respondents identified by <code><a href="../reference/RIpfit.html">RIpfit()</a></code>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb83"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">misfits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/PerFit/man/flagged.resp.html" class="external-link">flagged.resp</a></span><span class="op">(</span><span class="va">pfit_u3poly</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://purrr.tidyverse.org/reference/pluck.html" class="external-link">pluck</a></span><span class="op">(</span><span class="st">"Scores"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span><span class="va">FlaggedID</span><span class="op">)</span></span>
<span></span>
<span><span class="va">misfits2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIpfit.html">RIpfit</a></span><span class="op">(</span><span class="va">df</span>, output <span class="op">=</span> <span class="st">"rowid"</span><span class="op">)</span></span></code></pre></div>
</div>
<section class="level4"><h4 id="all-respondents">All respondents<a class="anchor" aria-label="anchor" href="#all-respondents"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb84"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemfit.html">RIitemfit</a></span><span class="op">(</span><span class="va">df</span>, simcut <span class="op">=</span> <span class="va">simfit3</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit diff </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit diff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.127</span> </td>
   <td style="text-align:left;"> [0.924, 1.072] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.152</span> </td>
   <td style="text-align:left;"> [0.927, 1.079] </td>
   <td style="text-align:left;"> 0.055 </td>
   <td style="text-align:left;"> 0.073 </td>
   <td style="text-align:right;"> -0.33 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.783</span> </td>
   <td style="text-align:left;"> [0.91, 1.093] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.783</span> </td>
   <td style="text-align:left;"> [0.89, 1.096] </td>
   <td style="text-align:left;"> 0.127 </td>
   <td style="text-align:left;"> 0.107 </td>
   <td style="text-align:right;"> -0.06 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.047</span> </td>
   <td style="text-align:left;"> [0.911, 1.102] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.127</span> </td>
   <td style="text-align:left;"> [0.885, 1.122] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> 0.005 </td>
   <td style="text-align:right;"> 0.42 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.952</span> </td>
   <td style="text-align:left;"> [0.91, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.991</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.32 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.939</span> </td>
   <td style="text-align:left;"> [0.906, 1.087] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.968</span> </td>
   <td style="text-align:left;"> [0.889, 1.111] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.00 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.002</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.981</span> </td>
   <td style="text-align:left;"> [0.863, 1.172] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.34 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.162</span> </td>
   <td style="text-align:left;"> [0.904, 1.085] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.201</span> </td>
   <td style="text-align:left;"> [0.911, 1.093] </td>
   <td style="text-align:left;"> 0.077 </td>
   <td style="text-align:left;"> 0.108 </td>
   <td style="text-align:right;"> -0.05 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> MSQ values based on conditional calculations (n = 1851 complete cases).<br>                                Simulation based thresholds from 1000 simulated datasets.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level4"><h4 id="u3-misfit-removed">U3 misfit removed<a class="anchor" aria-label="anchor" href="#u3-misfit-removed"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemfit.html">RIitemfit</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="op">-</span><span class="va">misfits</span>,<span class="op">]</span>, simcut <span class="op">=</span> <span class="va">simfit3</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit diff </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit diff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.124</span> </td>
   <td style="text-align:left;"> [0.924, 1.072] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.133</span> </td>
   <td style="text-align:left;"> [0.927, 1.079] </td>
   <td style="text-align:left;"> 0.052 </td>
   <td style="text-align:left;"> 0.054 </td>
   <td style="text-align:right;"> -0.43 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.809</span> </td>
   <td style="text-align:left;"> [0.91, 1.093] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.757</span> </td>
   <td style="text-align:left;"> [0.89, 1.096] </td>
   <td style="text-align:left;"> 0.101 </td>
   <td style="text-align:left;"> 0.133 </td>
   <td style="text-align:right;"> -0.07 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.98</span> </td>
   <td style="text-align:left;"> [0.911, 1.102] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.865</span> </td>
   <td style="text-align:left;"> [0.885, 1.122] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> 0.02 </td>
   <td style="text-align:right;"> 0.52 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.024</span> </td>
   <td style="text-align:left;"> [0.91, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.066</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.41 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.959</span> </td>
   <td style="text-align:left;"> [0.906, 1.087] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.917</span> </td>
   <td style="text-align:left;"> [0.889, 1.111] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.02 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.018</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.881</span> </td>
   <td style="text-align:left;"> [0.863, 1.172] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.47 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.136</span> </td>
   <td style="text-align:left;"> [0.904, 1.085] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.149</span> </td>
   <td style="text-align:left;"> [0.911, 1.093] </td>
   <td style="text-align:left;"> 0.051 </td>
   <td style="text-align:left;"> 0.056 </td>
   <td style="text-align:right;"> -0.07 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> MSQ values based on conditional calculations (n = 1669 complete cases).<br>                                Simulation based thresholds from 1000 simulated datasets.</td></tr>
</tfoot>
</table>
</div>
</div>
</section><section class="level4"><h4 id="zstd-misfit-removed">ZSTD misfit removed<a class="anchor" aria-label="anchor" href="#zstd-misfit-removed"></a>
</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb86"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemfit.html">RIitemfit</a></span><span class="op">(</span><span class="va">df</span><span class="op">[</span><span class="op">-</span><span class="va">misfits2</span>,<span class="op">]</span>, simcut <span class="op">=</span> <span class="va">simfit3</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Item </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> InfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> OutfitMSQ </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit thresholds </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Infit diff </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Outfit diff </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> PANAS_11 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.086</span> </td>
   <td style="text-align:left;"> [0.924, 1.072] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.093</span> </td>
   <td style="text-align:left;"> [0.927, 1.079] </td>
   <td style="text-align:left;"> 0.014 </td>
   <td style="text-align:left;"> 0.014 </td>
   <td style="text-align:right;"> -0.35 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_12 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.8</span> </td>
   <td style="text-align:left;"> [0.91, 1.093] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">0.796</span> </td>
   <td style="text-align:left;"> [0.89, 1.096] </td>
   <td style="text-align:left;"> 0.11 </td>
   <td style="text-align:left;"> 0.094 </td>
   <td style="text-align:right;"> -0.06 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_13 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.027</span> </td>
   <td style="text-align:left;"> [0.911, 1.102] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.042</span> </td>
   <td style="text-align:left;"> [0.885, 1.122] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.47 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_14 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.977</span> </td>
   <td style="text-align:left;"> [0.91, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.006</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.34 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_16 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.943</span> </td>
   <td style="text-align:left;"> [0.906, 1.087] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.971</span> </td>
   <td style="text-align:left;"> [0.889, 1.111] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> -0.02 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_17 </td>
   <td style="text-align:left;"> <span style="     color: black !important;">1.02</span> </td>
   <td style="text-align:left;"> [0.915, 1.095] </td>
   <td style="text-align:left;"> <span style="     color: black !important;">0.993</span> </td>
   <td style="text-align:left;"> [0.863, 1.172] </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:left;"> no misfit </td>
   <td style="text-align:right;"> 0.38 </td>
  </tr>
<tr>
<td style="text-align:left;"> PANAS_20 </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.159</span> </td>
   <td style="text-align:left;"> [0.904, 1.085] </td>
   <td style="text-align:left;"> <span style="     color: red !important;">1.186</span> </td>
   <td style="text-align:left;"> [0.911, 1.093] </td>
   <td style="text-align:left;"> 0.074 </td>
   <td style="text-align:left;"> 0.093 </td>
   <td style="text-align:right;"> -0.08 </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> MSQ values based on conditional calculations (n = 1695 complete cases).<br>                                Simulation based thresholds from 1000 simulated datasets.</td></tr>
</tfoot>
</table>
</div>
</div>
</section></section></section><section class="level2"><h2 id="item-parameters">Item parameters<a class="anchor" aria-label="anchor" href="#item-parameters"></a>
</h2>
<p>To allow others (and oneself) to use the item parameters estimated for estimation of person locations/thetas, we should make the item parameters available. The function will also write a csv-file with the item threshold locations. Estimations of person locations/thetas can be done with the <code><a href="https://rdrr.io/pkg/catR/man/thetaEst.html" class="external-link">thetaEst()</a></code> function from the <code>catR</code> package. This is implemented in the function <code><a href="../reference/RIestThetasOLD.html">RIestThetasOLD()</a></code>, see below for details.</p>
<p>First, we’ll output the parameters into a table.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemparams.html">RIitemparams</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:90%; font-size: 15px; width: auto !important;  font-family: Lato; margin-left: auto; margin-right: auto; margin-left: auto; margin-right: auto;border-bottom: 0;" class="table table table-striped table-hover lightable-classic table">
<thead><tr>
<th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;">   </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 1 </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 2 </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 3 </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;"> Threshold 4 </th>
   <th style="text-align:left;position: sticky; top:0; background-color: #FFFFFF;"> Item location </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;"> PANAS_11 </td>
   <td style="text-align:right;"> -1.63 </td>
   <td style="text-align:right;"> -0.67 </td>
   <td style="text-align:right;"> -0.22 </td>
   <td style="text-align:right;"> 1.21 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">-0.33</span> </td>
  </tr>
<tr>
<td style="text-align:left;font-weight: bold;"> PANAS_12 </td>
   <td style="text-align:right;"> -0.80 </td>
   <td style="text-align:right;"> -0.39 </td>
   <td style="text-align:right;"> 0.06 </td>
   <td style="text-align:right;"> 0.89 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">-0.06</span> </td>
  </tr>
<tr>
<td style="text-align:left;font-weight: bold;"> PANAS_13 </td>
   <td style="text-align:right;"> -0.29 </td>
   <td style="text-align:right;"> -0.15 </td>
   <td style="text-align:right;"> 0.56 </td>
   <td style="text-align:right;"> 1.53 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">0.42</span> </td>
  </tr>
<tr>
<td style="text-align:left;font-weight: bold;"> PANAS_14 </td>
   <td style="text-align:right;"> -1.38 </td>
   <td style="text-align:right;"> -0.59 </td>
   <td style="text-align:right;"> -0.16 </td>
   <td style="text-align:right;"> 0.87 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">-0.32</span> </td>
  </tr>
<tr>
<td style="text-align:left;font-weight: bold;"> PANAS_16 </td>
   <td style="text-align:right;"> -0.59 </td>
   <td style="text-align:right;"> -0.44 </td>
   <td style="text-align:right;"> -0.06 </td>
   <td style="text-align:right;"> 1.08 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">0</span> </td>
  </tr>
<tr>
<td style="text-align:left;font-weight: bold;"> PANAS_17 </td>
   <td style="text-align:right;"> -0.06 </td>
   <td style="text-align:right;"> 0.01 </td>
   <td style="text-align:right;"> 0.48 </td>
   <td style="text-align:right;"> 0.93 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">0.34</span> </td>
  </tr>
<tr>
<td style="text-align:left;font-weight: bold;"> PANAS_20 </td>
   <td style="text-align:right;"> -1.27 </td>
   <td style="text-align:right;"> -0.61 </td>
   <td style="text-align:right;"> 0.35 </td>
   <td style="text-align:right;"> 1.32 </td>
   <td style="text-align:left;"> <span style=" font-weight: bold;    text-align: right;">-0.05</span> </td>
  </tr>
</tbody>
<tfoot>
<tr><td style="padding: 0; " colspan="100%"><span style="font-style: italic;">Note: </span></td></tr>
<tr><td style="padding: 0; " colspan="100%">
<sup></sup> Item location is the average of the thresholds for each item.</td></tr>
</tfoot>
</table>
</div>
</div>
<p>The parameters can also be output to a dataframe or a file, using the option <code>output = "dataframe"</code> or <code>output = "file"</code>.</p>
</section><section class="level2"><h2 id="ordinal-sum-score-to-interval-score">Ordinal sum score to interval score<a class="anchor" aria-label="anchor" href="#ordinal-sum-score-to-interval-score"></a>
</h2>
<p>This table shows the corresponding “raw” ordinal sum score values and logit scores, with standard errors for each logit value. Interval scores are estimated using WL based on a simulated dataset using the item parameters estimated from the input dataset. The choice of WL as default is due to the lower bias compared to ML estimation <span class="citation" data-cites="warm1989">(<a href="#ref-warm1989" role="doc-biblioref">Warm 1989</a>)</span>.</p>
<p>(An option will hopefully be added at some point to create this table based on only item parameters.)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb88"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIscoreSE.html">RIscoreSE</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table data-quarto-disable-processing="true" style="width:65%; font-size: 14px;  font-family: Arial; margin-left: auto; margin-right: auto;" class="table table table-striped table-hover lightable-classic">
<thead><tr>
<th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Ordinal sum score </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Logit score </th>
   <th style="text-align:right;position: sticky; top:0; background-color: #FFFFFF;font-weight: bold;"> Logit std.error </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:right;"> 0 </td>
   <td style="text-align:right;"> -3.642 </td>
   <td style="text-align:right;"> 0.620 </td>
  </tr>
<tr>
<td style="text-align:right;"> 1 </td>
   <td style="text-align:right;"> -2.543 </td>
   <td style="text-align:right;"> 0.716 </td>
  </tr>
<tr>
<td style="text-align:right;"> 2 </td>
   <td style="text-align:right;"> -2.032 </td>
   <td style="text-align:right;"> 0.653 </td>
  </tr>
<tr>
<td style="text-align:right;"> 3 </td>
   <td style="text-align:right;"> -1.693 </td>
   <td style="text-align:right;"> 0.578 </td>
  </tr>
<tr>
<td style="text-align:right;"> 4 </td>
   <td style="text-align:right;"> -1.437 </td>
   <td style="text-align:right;"> 0.515 </td>
  </tr>
<tr>
<td style="text-align:right;"> 5 </td>
   <td style="text-align:right;"> -1.228 </td>
   <td style="text-align:right;"> 0.468 </td>
  </tr>
<tr>
<td style="text-align:right;"> 6 </td>
   <td style="text-align:right;"> -1.050 </td>
   <td style="text-align:right;"> 0.432 </td>
  </tr>
<tr>
<td style="text-align:right;"> 7 </td>
   <td style="text-align:right;"> -0.893 </td>
   <td style="text-align:right;"> 0.406 </td>
  </tr>
<tr>
<td style="text-align:right;"> 8 </td>
   <td style="text-align:right;"> -0.750 </td>
   <td style="text-align:right;"> 0.386 </td>
  </tr>
<tr>
<td style="text-align:right;"> 9 </td>
   <td style="text-align:right;"> -0.618 </td>
   <td style="text-align:right;"> 0.371 </td>
  </tr>
<tr>
<td style="text-align:right;"> 10 </td>
   <td style="text-align:right;"> -0.493 </td>
   <td style="text-align:right;"> 0.361 </td>
  </tr>
<tr>
<td style="text-align:right;"> 11 </td>
   <td style="text-align:right;"> -0.373 </td>
   <td style="text-align:right;"> 0.353 </td>
  </tr>
<tr>
<td style="text-align:right;"> 12 </td>
   <td style="text-align:right;"> -0.258 </td>
   <td style="text-align:right;"> 0.348 </td>
  </tr>
<tr>
<td style="text-align:right;"> 13 </td>
   <td style="text-align:right;"> -0.144 </td>
   <td style="text-align:right;"> 0.346 </td>
  </tr>
<tr>
<td style="text-align:right;"> 14 </td>
   <td style="text-align:right;"> -0.031 </td>
   <td style="text-align:right;"> 0.346 </td>
  </tr>
<tr>
<td style="text-align:right;"> 15 </td>
   <td style="text-align:right;"> 0.083 </td>
   <td style="text-align:right;"> 0.348 </td>
  </tr>
<tr>
<td style="text-align:right;"> 16 </td>
   <td style="text-align:right;"> 0.198 </td>
   <td style="text-align:right;"> 0.352 </td>
  </tr>
<tr>
<td style="text-align:right;"> 17 </td>
   <td style="text-align:right;"> 0.317 </td>
   <td style="text-align:right;"> 0.359 </td>
  </tr>
<tr>
<td style="text-align:right;"> 18 </td>
   <td style="text-align:right;"> 0.441 </td>
   <td style="text-align:right;"> 0.368 </td>
  </tr>
<tr>
<td style="text-align:right;"> 19 </td>
   <td style="text-align:right;"> 0.572 </td>
   <td style="text-align:right;"> 0.381 </td>
  </tr>
<tr>
<td style="text-align:right;"> 20 </td>
   <td style="text-align:right;"> 0.712 </td>
   <td style="text-align:right;"> 0.397 </td>
  </tr>
<tr>
<td style="text-align:right;"> 21 </td>
   <td style="text-align:right;"> 0.866 </td>
   <td style="text-align:right;"> 0.418 </td>
  </tr>
<tr>
<td style="text-align:right;"> 22 </td>
   <td style="text-align:right;"> 1.037 </td>
   <td style="text-align:right;"> 0.447 </td>
  </tr>
<tr>
<td style="text-align:right;"> 23 </td>
   <td style="text-align:right;"> 1.233 </td>
   <td style="text-align:right;"> 0.484 </td>
  </tr>
<tr>
<td style="text-align:right;"> 24 </td>
   <td style="text-align:right;"> 1.464 </td>
   <td style="text-align:right;"> 0.534 </td>
  </tr>
<tr>
<td style="text-align:right;"> 25 </td>
   <td style="text-align:right;"> 1.747 </td>
   <td style="text-align:right;"> 0.601 </td>
  </tr>
<tr>
<td style="text-align:right;"> 26 </td>
   <td style="text-align:right;"> 2.118 </td>
   <td style="text-align:right;"> 0.681 </td>
  </tr>
<tr>
<td style="text-align:right;"> 27 </td>
   <td style="text-align:right;"> 2.666 </td>
   <td style="text-align:right;"> 0.745 </td>
  </tr>
<tr>
<td style="text-align:right;"> 28 </td>
   <td style="text-align:right;"> 3.804 </td>
   <td style="text-align:right;"> 0.638 </td>
  </tr>
</tbody>
</table>
</div>
</div>
<section class="level3"><h3 id="ordinalinterval-figure">Ordinal/interval figure<a class="anchor" aria-label="anchor" href="#ordinalinterval-figure"></a>
</h3>
<p>The figure below can also be generated to illustrate the relationship between ordinal sum score and logit interval score. The errorbars default to show the standard error at each point, multiplied by 1.96.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIscoreSE.html">RIscoreSE</a></span><span class="op">(</span><span class="va">df</span>, output <span class="op">=</span> <span class="st">"figure"</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-81-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
</section><section class="level3"><h3 id="estimating-interval-level-person-scores">Estimating interval level person scores<a class="anchor" aria-label="anchor" href="#estimating-interval-level-person-scores"></a>
</h3>
<p>Based on the Rasch analysis output of item parameters, we can estimate each individuals location or score (also known as “theta”). <code><a href="../reference/RIestThetas.html">RIestThetas()</a></code> by default uses WLE estimation based on item parameters from a partial credit model (PCM) and outputs a dataframe with person locations (WLE) and measurement error (SEM) on the logit scale.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb90"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">thetas</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/RIestThetas.html">RIestThetas</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">thetas</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>         WLE       SEM
1 -2.5430672 0.7160122
2 -2.0319918 0.6533338
3 -0.1439296 0.3460439
4 -3.6420132 0.6202853
5 -2.0319918 0.6533338
6  0.1980813 0.3520345</code></pre>
</div>
</div>
<p>Each individual has a standard error of measurement (SEM) associated with their estimated location/score. This is included in the output of the <code><a href="../reference/RIestThetas.html">RIestThetas()</a></code> function as the <code>SEM</code> variable, as seen above. We can review the distribution of measurement error with a figure.</p>
<p>We can take a look at the distribution of person locations (thetas) using a histogram.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/graphics/hist.html" class="external-link">hist</a></span><span class="op">(</span><span class="va">thetas</span><span class="op">$</span><span class="va">WLE</span>, </span>
<span>     col <span class="op">=</span> <span class="st">"#009ca6"</span>, </span>
<span>     main <span class="op">=</span> <span class="st">"Histogram of person locations (thetas)"</span>, </span>
<span>     breaks <span class="op">=</span> <span class="fl">20</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-83-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p><code><a href="../reference/RIestThetasOLD.html">RIestThetasOLD()</a></code> can be used with a pre-specified item (threshold) location matrix. The choice of WL as default is due to the lower bias compared to ML estimation <span class="citation" data-cites="warm1989">(<a href="#ref-warm1989" role="doc-biblioref">Warm 1989</a>)</span>. Similarly to <code><a href="../reference/RIscoreSE.html">RIscoreSE()</a></code> you can (and may indeed need to) change the range of logit scores, using the option <code>theta_range</code>. The default is <code>c(-7,7)</code>, which should hopefully work in most circumstances.</p>
<p>If you would like to use an existing item threshold location matrix, this code may be helpful:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb93"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">itemParameters</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://readr.tidyverse.org/reference/read_delim.html" class="external-link">read_csv</a></span><span class="op">(</span><span class="st">"itemParameters.csv"</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> </span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/matrix.html" class="external-link">as.matrix</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<p>This creates a matrix object (not a dataframe), with each item as a row, and the threshold locations as columns.</p>
</section></section><section class="level2"><h2 id="figure-design">Figure design<a class="anchor" aria-label="anchor" href="#figure-design"></a>
</h2>
<p>Most of the figures created by the functions can be styled (colors, fonts, etc) by adding theme settings to them. You can use the standard ggplot function <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme()</a></code> and related theme-functions. As usual it is possible to “stack” theme functions, as seen in the example below.</p>
<p>You can also change coloring, axis limits/breaks, etc, just by adding ggplot options with a <code>+</code> sign.</p>
<p>A custom theme function, <code><a href="../reference/theme_rise.html">theme_rise()</a></code>, is included in the <code>easyRasch</code> package. It might be easier to use if you are not familiar with <code><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme()</a></code>.</p>
<p>For instance, you might like to change the font to “Lato” for the item hierarchy figure, and make the background transparent.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RIitemHierarchy.html">RIitemHierarchy</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> <span class="co"># first apply the minimal theme to make the background transparent</span></span>
<span>  <span class="fu"><a href="../reference/theme_rise.html">theme_rise</a></span><span class="op">(</span>fontfamily <span class="op">=</span> <span class="st">"Lato"</span><span class="op">)</span> <span class="co"># then apply theme_rise, which simplifies making changes to all plot elements</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-85-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>As of package version 0.1.30.0, the <code><a href="../reference/RItargeting.html">RItargeting()</a></code> function allows more flexibility in styling too, by having an option to return a list object with the three separate plots. See the <a href="https://github.com/pgmj/easyRasch/blob/main/NEWS.md#01300" class="external-link">NEWS</a> file for more details. Since the <code><a href="../reference/RItargeting.html">RItargeting()</a></code> function uses the <code>patchwork</code> library to combine plots, you can also make use of <a href="https://patchwork.data-imaginist.com/articles/patchwork.html" class="external-link">the many functions that <code>patchwork</code> includes</a>. For instance, you can set a title with a specific theme:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/RItargeting.html">RItargeting</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_annotation.html" class="external-link">plot_annotation</a></span><span class="op">(</span>title <span class="op">=</span> <span class="st">"Targeting"</span>, theme <span class="op">=</span> <span class="fu"><a href="../reference/theme_rise.html">theme_rise</a></span><span class="op">(</span>fontfamily <span class="op">=</span> <span class="st">"Arial"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<div>
<figure><p><img src="easyrasch-vignette_files/figure-html/unnamed-chunk-86-1.png" width="672"></p>
</figure>
</div>
</div>
</div>
<p>In order to change font for text <em>inside</em> plots (such as “t1” for thresholds) you will need to add an additional line of code.</p>
<div class="sourceCode" id="cb96"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/update_defaults.html" class="external-link">update_geom_defaults</a></span><span class="op">(</span><span class="st">"text"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>family <span class="op">=</span> <span class="st">"Lato"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Please note that the line of code above updates the default settings for <code><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text()</a></code> for the whole session. Also, some functions, such as <code><a href="../reference/RIloadLoc.html">RIloadLoc()</a></code>, make use of <code><a href="https://ggrepel.slowkow.com/reference/geom_text_repel.html" class="external-link">geom_text_repel()</a></code>, for which you would need to change the code above from “text” to “text_repel”.</p>
<p>A simple way to only change font family and font size would be to use <code>theme_minimal(base_family = "Calibri", base_size = 14)</code>. Please see the <a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">reference page</a> for default ggplot themes for alternatives to <code><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_minimal()</a></code>.</p>
</section><section class="level2"><h2 id="sec-grateful">Software used<a class="anchor" aria-label="anchor" href="#sec-grateful"></a>
</h2>
<p>The <code>grateful</code> package is a nice way to give credit to the packages used in making the analysis. The package can create both a bibliography file and a table object, which is handy for automatically creating a reference list based on the packages used (or at least explicitly loaded).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pakillo.github.io/grateful/" class="external-link">grateful</a></span><span class="op">)</span></span>
<span><span class="va">pkgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://pakillo.github.io/grateful/reference/cite_packages.html" class="external-link">cite_packages</a></span><span class="op">(</span>cite.tidyverse <span class="op">=</span> <span class="cn">TRUE</span>, </span>
<span>                      output <span class="op">=</span> <span class="st">"table"</span>,</span>
<span>                      bib.file <span class="op">=</span> <span class="st">"grateful-refs.bib"</span>,</span>
<span>                      include.RStudio <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>                      out.dir <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/getwd.html" class="external-link">getwd</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co"># If kbl() is used to generate this table, the references will not be added to the Reference list.</span></span>
<span><span class="fu"><a href="https://renkun-ken.github.io/formattable/reference/formattable.html" class="external-link">formattable</a></span><span class="op">(</span><span class="va">pkgs</span>, </span>
<span>            table.attr <span class="op">=</span> <span class="st">'class=\"table table-striped\" style="font-size: 13px; font-family: Lato; width: 80%"'</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output-display">
<table class="table table table-striped" style="font-size: 13px; font-family: Lato; width: 80%">
<thead><tr>
<th style="text-align:right;">
Package
</th>
<th style="text-align:right;">
Version
</th>
<th style="text-align:right;">
Citation
</th>
</tr></thead>
<tbody><tr>
<td style="text-align:right;">
base
</td>
<td style="text-align:right;">
4.4.2
</td>
<td style="text-align:right;">
<span class="citation" data-cites="base">R Core Team (<a href="#ref-base" role="doc-biblioref">2024</a>)</span>
</td>
</tr></tbody>
</table>
</div>
</div>
</section><section class="level2"><h2 id="additional-credits">Additional credits<a class="anchor" aria-label="anchor" href="#additional-credits"></a>
</h2>
<p>Thanks to my <a href="https://www.ri.se/en/what-we-do/projects/center-for-category-based-measurements" class="external-link">colleagues at RISE</a> for providing feedback and testing the package on Windows and MacOS platforms. Also, thanks to <a href="https://www.winsteps.com/linacre.htm" class="external-link">Mike Linacre</a> and <a href="https://www.ri.se/en/person/jeanette-melin" class="external-link">Jeanette Melin</a> for providing useful feedback to improve this vignette.</p>
</section><section class="level2"><h2 id="session-info">Session info<a class="anchor" aria-label="anchor" href="#session-info"></a>
</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>R version 4.4.2 (2024-10-31)
Platform: aarch64-apple-darwin20
Running under: macOS Sequoia 15.2

Matrix products: default
BLAS:   /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRblas.0.dylib
LAPACK: /Library/Frameworks/R.framework/Versions/4.4-arm64/Resources/lib/libRlapack.dylib;  LAPACK version 3.12.0

locale:
[1] en_US.UTF-8/en_US.UTF-8/en_US.UTF-8/C/en_US.UTF-8/en_US.UTF-8

time zone: Europe/Stockholm
tzcode source: internal

attached base packages:
 [1] parallel  grid      stats4    stats     graphics  grDevices utils
 [8] datasets  methods   base

other attached packages:
 [1] PerFit_1.4.6      ltm_1.2-0         polycor_0.8-1     msm_1.7.1
 [5] MASS_7.3-61       lordif_0.3-3      rms_6.8-1         Hmisc_5.2-0
 [9] RASCHplot_0.1.0   knitr_1.48        readxl_1.4.3      car_3.1-2
[13] carData_3.0-5     grateful_0.2.4    easyRasch_0.3.3   doParallel_1.0.17
[17] iterators_1.0.14  furrr_0.3.1       future_1.34.0     foreach_1.5.2
[21] ggdist_3.3.2      janitor_2.2.0     iarm_0.4.3        hexbin_1.28.4
[25] catR_3.17         glue_1.8.0        ggrepel_0.9.6     patchwork_1.3.0
[29] reshape_0.8.9     matrixStats_1.4.1 psychotree_0.16-1 psychotools_0.7-4
[33] partykit_1.2-22   mvtnorm_1.3-1     libcoin_1.0-10    psych_2.4.6.26
[37] mirt_1.43         lattice_0.22-6    eRm_1.0-6         lubridate_1.9.3
[41] forcats_1.0.0     stringr_1.5.1     dplyr_1.1.4       purrr_1.0.2
[45] readr_2.1.5       tidyr_1.3.1       tibble_3.2.1      ggplot2_3.5.1
[49] tidyverse_2.0.0   kableExtra_1.4.0  formattable_0.2.1

loaded via a namespace (and not attached):
  [1] bitops_1.0-8         RColorBrewer_1.1-3   tools_4.4.2
  [4] backports_1.5.0      utf8_1.2.4           R6_2.5.1
  [7] DT_0.33              vegan_2.6-8          sm_2.2-6.0
 [10] mgcv_1.9-1           permute_0.9-7        withr_3.0.2
 [13] gridExtra_2.3        progressr_0.14.0     quantreg_5.98
 [16] cli_3.6.3            sandwich_3.1-1       labeling_0.4.3
 [19] polspline_1.1.25     pbapply_1.7-2        systemfonts_1.1.0
 [22] foreign_0.8-87       relimp_1.0-5         svglite_2.1.3
 [25] R.utils_2.12.3       parallelly_1.38.0    sessioninfo_1.2.2
 [28] rstudioapi_0.17.1    generics_0.1.3       vroom_1.6.5
 [31] distributional_0.4.0 qvcalc_1.0.3         Matrix_1.7-1
 [34] fansi_1.0.6          abind_1.4-5          R.methodsS3_1.8.2
 [37] lifecycle_1.0.4      multcomp_1.4-26      yaml_2.3.10
 [40] snakecase_0.11.1     inum_1.0-5           ggstance_0.3.7
 [43] irtoys_0.2.2         promises_1.3.2       crayon_1.5.3
 [46] cowplot_1.1.3        pillar_1.9.0         fda_6.1.8
 [49] vcdExtra_0.8-5       future.apply_1.11.2  admisc_0.35
 [52] codetools_0.2-20     beepr_2.0            data.table_1.16.0
 [55] vcd_1.4-12           vctrs_0.6.5          testthat_3.2.1.1
 [58] cellranger_1.1.0     gtable_0.3.5         cachem_1.1.0
 [61] ks_1.14.2            xfun_0.46            mime_0.12
 [64] fds_1.8              pracma_2.4.4         pcaPP_2.0-4
 [67] survival_3.7-0       audio_0.1-11         RPushbullet_0.3.4
 [70] TH.data_1.1-2        nlme_3.1-166         bit64_4.0.5
 [73] rprojroot_2.0.4      Deriv_4.1.3          KernSmooth_2.23-24
 [76] rpart_4.1.23         colorspace_2.1-1     gnm_1.1-5
 [79] nnet_7.3-19          mnormt_2.1.1         tidyselect_1.2.1
 [82] bit_4.0.5            compiler_4.4.2       curl_6.0.1
 [85] htmlTable_2.4.3      SparseM_1.84-2       expm_0.999-9
 [88] xml2_1.3.6           checkmate_2.3.2      scales_1.3.0
 [91] lmtest_0.9-40        digest_0.6.37        rainbow_3.8
 [94] rmarkdown_2.28       ca_0.71.1            htmltools_0.5.8.1
 [97] pkgconfig_2.0.3      base64enc_0.1-3      SimDesign_2.17.1
[100] fastmap_1.2.0        rlang_1.1.4          htmlwidgets_1.6.4
[103] shiny_1.10.0         farver_2.1.2         zoo_1.8-12
[106] jsonlite_1.8.9       mclust_6.1.1         dcurver_0.9.2
[109] R.oo_1.26.0          RCurl_1.98-1.16      magrittr_2.0.3
[112] Formula_1.2-5        munsell_0.5.1        Rcpp_1.0.13-1
[115] stringi_1.8.4        brio_1.1.5           plyr_1.8.9
[118] listenv_0.9.1        splines_4.4.2        hms_1.1.3
[121] ggpubr_0.6.0         ggsignif_0.6.4       reshape2_1.4.4
[124] GPArotation_2024.3-1 evaluate_1.0.1       renv_1.0.7
[127] deSolve_1.40         tzdb_0.4.0           httpuv_1.6.15
[130] MatrixModels_0.5-3   broom_1.0.7          xtable_1.8-4
[133] rstatix_0.7.2        later_1.4.0          viridisLite_0.4.2
[136] snow_0.4-4           memoise_2.0.1        cluster_2.1.6
[139] corrplot_0.92        timechange_0.3.0     globals_0.16.3
[142] hdrcde_3.4           here_1.0.1          </code></pre>
</div>
</div>
</section><section class="level2 unnumbered"><h2 class="unnumbered" id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-anvari2022" class="csl-entry" role="listitem">
Anvari, Farid, Emir Efendić, Jerome Olsen, Ruben C. Arslan, Malte Elson, and Iris K. Schneider. 2022. <span>“Bias in Self-Reports: An Initial Elevation Phenomenon.”</span> <em>Social Psychological and Personality Science</em>, October, 19485506221129160. <a href="https://doi.org/10.1177/19485506221129160" class="external-link">https://doi.org/10.1177/19485506221129160</a>.
</div>
<div id="ref-artner_simulation_2016" class="csl-entry" role="listitem">
Artner, Richard. 2016. <span>“A Simulation Study of Person-Fit in the <span>Rasch</span> Model.”</span> <em>Psychological Test and Assessment Modeling</em> 58 (3): 531–63.
</div>
<div id="ref-bjorner_differential_1998" class="csl-entry" role="listitem">
Bjorner, Jakob B., Svend Kreiner, John E. Ware, Mogens T. Damsgaard, and Per Bech. 1998. <span>“Differential <span>Item</span> <span>Functioning</span> in the <span>Danish</span> <span>Translation</span> of the <span>SF</span>-36.”</span> <em>Journal of Clinical Epidemiology</em> 51 (11): 1189–1202. <a href="https://doi.org/10.1016/S0895-4356(98)00111-5" class="external-link">https://doi.org/10.1016/S0895-4356(98)00111-5</a>.
</div>
<div id="ref-buchardt_visualizing_2023" class="csl-entry" role="listitem">
Buchardt, Ann-Sophie, Karl Bang Christensen, and Normann Jensen. 2023. <span>“Visualizing <span>Rasch</span> Item Fit Using Conditional Item Characteristic Curves in <span>R</span>.”</span> <em>Psychological Test and Assessment Modeling</em> 65 (2): 206–19.
</div>
<div id="ref-choi_lordif_2011" class="csl-entry" role="listitem">
Choi, Seung W., Laura E. Gibbons, and Paul K. Crane. 2011. <span>“Lordif: <span>An</span> <span>R</span> <span>Package</span> for <span>Detecting</span> <span>Differential</span> <span>Item</span> <span>Functioning</span> <span>Using</span> <span>Iterative</span> <span>Hybrid</span> <span>Ordinal</span> <span>Logistic</span> <span>Regression</span>/<span>Item</span> <span>Response</span> <span>Theory</span> and <span>Monte</span> <span>Carlo</span> <span>Simulations</span>.”</span> <em>Journal of Statistical Software</em> 39 (1): 1–30. <a href="https://doi.org/10.18637/jss.v039.i08" class="external-link">https://doi.org/10.18637/jss.v039.i08</a>.
</div>
<div id="ref-christensen2017" class="csl-entry" role="listitem">
Christensen, Karl Bang, Guido Makransky, and Mike Horton. 2017. <span>“Critical Values for Yen<span>’</span>s Q3: Identification of Local Dependence in the Rasch Model Using Residual Correlations.”</span> <em>Applied Psychological Measurement</em> 41 (3): 178–94. <a href="https://doi.org/10.1177/0146621616677520" class="external-link">https://doi.org/10.1177/0146621616677520</a>.
</div>
<div id="ref-emons_nonparametric_2008" class="csl-entry" role="listitem">
Emons, Wilco H. M. 2008. <span>“Nonparametric <span>Person</span>-<span>Fit</span> <span>Analysis</span> of <span>Polytomous</span> <span>Item</span> <span>Scores</span>.”</span> <em>Applied Psychological Measurement</em> 32 (3): 224–47. <a href="https://doi.org/10.1177/0146621607302479" class="external-link">https://doi.org/10.1177/0146621607302479</a>.
</div>
<div id="ref-henninger_partial_2024" class="csl-entry" role="listitem">
Henninger, Mirka, Jan Radek, Marie-Ann Sengewald, and Carolin Strobl. 2024. <span>“Partial Credit Trees Meet the Partial Gamma Coefficient for Quantifying <span>DIF</span> and <span>DSF</span> in Polytomous Items.”</span> OSF. <a href="https://doi.org/10.31234/osf.io/47sah" class="external-link">https://doi.org/10.31234/osf.io/47sah</a>.
</div>
<div id="ref-johansson" class="csl-entry" role="listitem">
Johansson, Magnus, Marit Preuter, Simon Karlsson, Marie-Louise Möllerberg, Hanna Svensson, and Jeanette Melin. 2023. <span>“Valid and Reliable? Basic and Expanded Recommendations for Psychometric Reporting and Quality Assessment.”</span> <a href="https://doi.org/10.31219/osf.io/3htzc" class="external-link">https://doi.org/10.31219/osf.io/3htzc</a>.
</div>
<div id="ref-kreiner_note_2011" class="csl-entry" role="listitem">
Kreiner, Svend. 2011. <span>“A <span>Note</span> on <span>Item</span>–<span>Restscore</span> <span>Association</span> in <span>Rasch</span> <span>Models</span>.”</span> <em>Applied Psychological Measurement</em> 35 (7): 557–61. <a href="https://doi.org/10.1177/0146621611410227" class="external-link">https://doi.org/10.1177/0146621611410227</a>.
</div>
<div id="ref-kreiner_analysis_2004" class="csl-entry" role="listitem">
Kreiner, Svend, and Karl Bang Christensen. 2004. <span>“Analysis of <span>Local</span> <span>Dependence</span> and <span>Multidimensionality</span> in <span>Graphical</span> <span>Loglinear</span> <span>Rasch</span> <span>Models</span>.”</span> <em>Communications in Statistics - Theory and Methods</em> 33 (6): 1239–76. <a href="https://doi.org/10.1081/STA-120030148" class="external-link">https://doi.org/10.1081/STA-120030148</a>.
</div>
<div id="ref-mueller_iarm_2022" class="csl-entry" role="listitem">
Mueller, Marianne, and Pedro Henrique Ribeiro Santiago. 2022. <span>“Iarm: <span>Item</span> <span>Analysis</span> in <span>Rasch</span> <span>Models</span>.”</span> <a href="https://cran.r-project.org/web/packages/iarm/index.html" class="external-link">https://cran.r-project.org/web/packages/iarm/index.html</a>.
</div>
<div id="ref-muller_item_2020" class="csl-entry" role="listitem">
Müller, Marianne. 2020. <span>“Item Fit Statistics for <span>Rasch</span> Analysis: Can We Trust Them?”</span> <em>Journal of Statistical Distributions and Applications</em> 7 (1): 5. <a href="https://doi.org/10.1186/s40488-020-00108-7" class="external-link">https://doi.org/10.1186/s40488-020-00108-7</a>.
</div>
<div id="ref-ostini_polytomous_2006" class="csl-entry" role="listitem">
Ostini, Remo, and Michael Nering. 2006. <em>Polytomous <span>Item</span> <span>Response</span> <span>Theory</span> <span>Models</span></em>. 2455 Teller Road, Thousand Oaks California 91320 United States of America: SAGE Publications, Inc. <a href="https://doi.org/10.4135/9781412985413" class="external-link">https://doi.org/10.4135/9781412985413</a>.
</div>
<div id="ref-base" class="csl-entry" role="listitem">
R Core Team. 2024. <em><span>R</span>: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/" class="external-link">https://www.R-project.org/</a>.
</div>
<div id="ref-smith_using_1998" class="csl-entry" role="listitem">
Smith, R. M., R. E. Schumacker, and M. J. Bush. 1998. <span>“<a href="https://www.ncbi.nlm.nih.gov/pubmed/9661732" class="external-link">Using Item Mean Squares to Evaluate Fit to the <span>Rasch</span> Model</a>.”</span> <em>Journal of Outcome Measurement</em> 2 (1): 66–78.
</div>
<div id="ref-strobl2015" class="csl-entry" role="listitem">
Strobl, Carolin, Julia Kopf, and Achim Zeileis. 2015. <span>“Rasch Trees: A New Method for Detecting Differential Item Functioning in the Rasch Model.”</span> <em>Psychometrika</em> 80 (2): 289–316. <a href="https://doi.org/10.1007/s11336-013-9388-3" class="external-link">https://doi.org/10.1007/s11336-013-9388-3</a>.
</div>
<div id="ref-strobl2021" class="csl-entry" role="listitem">
Strobl, Carolin, Lennart Schneider, Julia Kopf, and Achim Zeileis. 2021. <span>“Using the Raschtree Function for Detecting Differential Item Functioning in the Rasch Model,”</span> 12.
</div>
<div id="ref-warm1989" class="csl-entry" role="listitem">
Warm, Thomas A. 1989. <span>“Weighted Likelihood Estimation of Ability in Item Response Theory.”</span> <em>Psychometrika</em> 54 (3): 427–50. <a href="https://doi.org/10.1007/BF02294627" class="external-link">https://doi.org/10.1007/BF02294627</a>.
</div>
</div>
</section><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'light-border',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config);
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script></main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Magnus Johansson.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
